!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"datadogRum",(function(){return Lt}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t,n,r){return new(n||(n=Promise))((function(i,o){function u(e){try{s(r.next(e))}catch(e){o(e)}}function a(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(u,a)}s((r=r.apply(e,t||[])).next())}))}function o(e,t){var n,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,r=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!(i=(i=u.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1],i=o;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(o);break}i[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(e,u)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],u=0,a=o.length;u<a;u++,i++)r[i]=o[u];return r}var a,s,c=6e4,f=60*c;function l(e,t,n){var r,i=!n||void 0===n.leading||n.leading,o=!n||void 0===n.trailing||n.trailing,u=!1,a=!1,s=!1;return{throttled:function(){var n=this;s||(u?a=!0:(i?e.apply(this):a=!0,u=!0,r=window.setTimeout((function(){o&&a&&e.apply(n),u=!1,a=!1}),t)))},stop:function(){window.clearTimeout(r),s=!0}}}!function(e){e.BEFORE_UNLOAD="beforeunload",e.CLICK="click",e.KEY_DOWN="keydown",e.LOAD="load",e.POP_STATE="popstate",e.SCROLL="scroll",e.TOUCH_START="touchstart",e.VISIBILITY_CHANGE="visibilitychange"}(a||(a={})),function(e){e.DOCUMENT="document",e.XHR="xhr",e.BEACON="beacon",e.FETCH="fetch",e.CSS="css",e.JS="js",e.IMAGE="image",e.FONT="font",e.MEDIA="media",e.OTHER="other"}(s||(s={}));var d,p=function(e){return Array.isArray(e)},v=function(e){return!Array.isArray(e)&&"object"==typeof e};function E(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(e,t){return p(e)&&p(t)?u(Array(Math.max(e.length,t.length))).map((function(n,r){return E(e[r],t[r])})):v(e)&&v(t)?Object.keys(t).reduce((function(n,i){var o;return r(r({},n),((o={})[i]=E(e[i],t[i]),o))}),e):void 0===t?e:t}),e)}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];t.forEach((function(t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))}function h(e){return e?(parseInt(e,10)^16*Math.random()>>parseInt(e,10)/4).toString(16):(1e7+"-1000-4000-8000-100000000000").replace(/[018]/g,h)}function y(e){return 0!==e&&100*Math.random()<=e}function T(e){return+(1e6*e).toFixed(0)}function g(e){var t={};return Object.keys(e).forEach((function(n){var r;t[(r=n,r.replace(/[A-Z]/g,(function(e,t){return(0!==t?"_":"")+e.toLowerCase()})).replace(/-/g,"_"))]=function e(t){if(Array.isArray(t))return t.map((function(t){return e(t)}));if("object"==typeof t)return g(t);return t}(e[n])})),t}function b(){}function C(e,t,n){if(null==e)return JSON.stringify(e);var r=[!1,void 0];R(e)&&(r=[!0,e.toJSON],delete e.toJSON);var i,o,u=[!1,void 0];"object"==typeof e&&R(i=Object.getPrototypeOf(e))&&(u=[!0,i.toJSON],delete i.toJSON);try{o=JSON.stringify(e,void 0,n)}catch(e){o="<error: unable to serialize object>"}finally{r[0]&&(e.toJSON=r[1]),u[0]&&(i.toJSON=u[1])}return o}function R(e){return"object"==typeof e&&null!==e&&e.hasOwnProperty("toJSON")}function O(e,t){return-1!==e.indexOf(t)}function S(e){return w(e)&&e>=0&&e<=100}function w(e){return"number"==typeof e}function _(e){return Math.floor(L()+e)}function L(){return void 0===d&&(d=performance.timing.navigationStart),d}function A(e){if(e.origin)return e.origin;var t=e.host.replace(/(:80|:443)$/,"");return e.protocol+"//"+t}var I={isCollectingError:!0,maxErrorsByMinute:3e3,maxInternalMonitoringMessagesPerPage:15,resourceSampleRate:100,sampleRate:100,silentMultipleInit:!1,requestErrorResponseLengthLimit:32768,flushTimeout:3e4,maxBatchSize:50,maxMessageSize:262144,batchBytesLimit:16384};function x(e,t,n){var r="us"===t.datacenter?"com":"eu",i="production"===t.sdkEnv?"datadoghq."+r:"datad0g."+r,o="sdk_version:"+t.sdkVersion+(t.env?",env:"+t.env:"")+(t.service?",service:"+t.service:"")+(t.version?",version:"+t.version:""),u=e+"-http-intake.logs."+i,a=t.proxyHost?t.proxyHost:u,s=t.proxyHost?"ddhost="+u+"&":"",c=""+(t.applicationId?"_dd.application_id="+t.applicationId+"&":"")+s+"ddsource="+(n||"browser")+"&ddtags="+o;return"https://"+a+"/v1/input/"+t.clientToken+"?"+c}var D="?",M=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var k=function(){var e,t,n,r,i,o,u=[];function a(e,t,n){var r;for(var i in u)if(N(u,i))try{u[i](e,t,n)}catch(e){r=e}if(r)throw r}function s(e,r,i,o,u){if(t)U.augmentStackTraceWithInitialElement(t,r,i,""+e),f();else if(u)a(U(u),!0,u);else{var s,c={url:r,column:o,line:i},l=e;if("[object String]"==={}.toString.call(e)){var d=l.match(M);d&&(s=d[1],l=d[2])}a({name:s,message:l,stack:[c]},!0)}return!!n&&n.apply(this,arguments)}function c(e){var t=e.reason||"Empty reason";a(U(t),!0,t)}function f(){var n=t,r=e;t=void 0,e=void 0,a(n,!1,r)}function l(n){if(t){if(e===n)return;f()}var r=U(n);throw t=r,e=n,setTimeout((function(){e===n&&f()}),r.incomplete?2e3:0),n}return l.subscribe=function(e){!function(){if(r)return;n=window.onerror,window.onerror=W(s),r=!0}(),function(){if(o)return;i=null!==window.onunhandledrejection?window.onunhandledrejection:void 0,window.onunhandledrejection=W(c),o=!0}(),u.push(e)},l.unsubscribe=function(e){for(var t=u.length-1;t>=0;t-=1)u[t]===e&&u.splice(t,1);0===u.length&&(r&&(window.onerror=n,r=!1),o&&(window.onunhandledrejection=i,o=!1))},l.traceKitWindowOnError=s,l}(),U=function(){var e=!1;function t(e){if(e.stack){for(var t,n,r,i,o=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,a=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c=/\((\S*)(?::(\d+))(?::(\d+))\)/,f=e.stack.split("\n"),l=[],d=0,p=f.length;d<p;d+=1){if(o.exec(f[d])){var v=(r=o.exec(f[d]))[2]&&0===r[2].indexOf("native");t=r[2]&&0===r[2].indexOf("eval"),n=c.exec(r[2]),t&&n&&(r[2]=n[1],r[3]=n[2],r[4]=n[3]),i={args:v?[r[2]]:[],column:r[4]?+r[4]:void 0,func:r[1]||D,line:r[3]?+r[3]:void 0,url:v?void 0:r[2]}}else if(a.exec(f[d]))i={args:[],column:(r=a.exec(f[d]))[4]?+r[4]:void 0,func:r[1]||D,line:+r[3],url:r[2]};else{if(!u.exec(f[d]))continue;t=(r=u.exec(f[d]))[3]&&r[3].indexOf(" > eval")>-1,n=s.exec(r[3]),t&&n?(r[3]=n[1],r[4]=n[2],r[5]=void 0):0!==d||r[5]||void 0===e.columnNumber||(l[0].column=e.columnNumber+1),i={args:r[2]?r[2].split(","):[],column:r[5]?+r[5]:void 0,func:r[1]||D,line:r[4]?+r[4]:void 0,url:r[3]}}!i.func&&i.line&&(i.func=D),l.push(i)}if(l.length)return{stack:l,message:e.message,name:e.name}}}function n(e,t,n,r){var i={url:t,line:n?+n:void 0};if(i.url&&i.line){e.incomplete=!1;var o=e.stack;if(o.length>0&&o[0].url===i.url){if(o[0].line===i.line)return!1;if(!o[0].line&&o[0].func===i.func)return o[0].line=i.line,o[0].context=i.context,!1}return o.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function r(e,t){for(var i,o,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,a=[],s={},c=!1,f=r.caller;f&&!c;f=f.caller)f!==U&&f!==k&&(o={args:[],column:void 0,func:D,line:void 0,url:void 0},i=u.exec(f.toString()),f.name?o.func=f.name:i&&(o.func=i[1]),void 0===o.func&&(o.func=i?i.input.substring(0,i.input.indexOf("{")):void 0),s[""+f]?c=!0:s[""+f]=!0,a.push(o));t&&a.splice(0,t);var l={stack:a,message:e.message,name:e.name};return n(l,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),l}function i(n,i){var o,u=void 0===i?0:+i;try{if(o=function(e){var t=e.stacktrace;if(t){for(var n,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,o=t.split("\n"),u=[],a=0;a<o.length;a+=2){var s=void 0;r.exec(o[a])?s={args:[],column:void 0,func:(n=r.exec(o[a]))[3],line:+n[1],url:n[2]}:i.exec(o[a])&&(s={args:(n=i.exec(o[a]))[5]?n[5].split(","):[],column:+n[2],func:n[3]||n[4],line:+n[1],url:n[6]}),s&&(!s.func&&s.line&&(s.func=D),s.context=[o[a+1]],u.push(s))}if(u.length)return{stack:u,message:e.message,name:e.name}}}(n))return o}catch(t){if(e)throw t}try{if(o=t(n))return o}catch(t){if(e)throw t}try{if(o=function(e){var t=e.message.split("\n");if(!(t.length<4)){var n,r=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,i=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,o=/^\s*Line (\d+) of function script\s*$/i,u=[],a=window&&window.document&&window.document.getElementsByTagName("script"),s=[];for(var c in a)N(a,c)&&!a[c].src&&s.push(a[c]);for(var f=2;f<t.length;f+=2){var l=void 0;if(r.exec(t[f]))l={args:[],column:void 0,func:(n=r.exec(t[f]))[3],line:+n[1],url:n[2]};else if(i.exec(t[f]))l={args:[],column:void 0,func:(n=i.exec(t[f]))[4],line:+n[1],url:n[3]};else if(o.exec(t[f])){n=o.exec(t[f]),l={url:window.location.href.replace(/#.*$/,""),args:[],column:void 0,func:"",line:+n[1]}}l&&(l.func||(l.func=D),l.context=[t[f+1]],u.push(l))}if(u.length)return{stack:u,message:t[0],name:e.name}}}(n))return o}catch(t){if(e)throw t}try{if(o=r(n,u+1))return o}catch(t){if(e)throw t}return{message:n.message,name:n.name,stack:[]}}return i.augmentStackTraceWithInitialElement=n,i.computeStackTraceFromStackProp=t,i.ofCaller=function(e){var t=1+(void 0===e?0:+e);try{throw new Error}catch(e){return U(e,t+1)}},i}();var B=function(){function e(e,t,n){void 0===n&&(n=!1),this.endpointUrl=e,this.bytesLimit=t,this.withBatchTime=n}return e.prototype.send=function(e,t){var n=this.withBatchTime?function(e){return e+(-1===e.indexOf("?")?"?":"&")+"batch_time="+(new Date).getTime()}(this.endpointUrl):this.endpointUrl;if(navigator.sendBeacon&&t<this.bytesLimit&&navigator.sendBeacon(n,e))return;var r=new XMLHttpRequest;r.open("POST",n,!0),r.send(e)},e}();var H,P=function(){function e(e,t,n,r,i,o,u){void 0===u&&(u=b),this.request=e,this.maxSize=t,this.bytesLimit=n,this.maxMessageSize=r,this.flushTimeout=i,this.contextProvider=o,this.beforeUnloadCallback=u,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0,this.flushOnVisibilityHidden(),this.flushPeriodically()}return e.prototype.add=function(e){this.addOrUpdate(e)},e.prototype.upsert=function(e,t){this.addOrUpdate(e,t)},e.prototype.flush=function(){if(0!==this.bufferMessageCount){var e=u(this.pushOnlyBuffer,(t=this.upsertBuffer,n=[],Object.keys(t).forEach((function(e){n.push(t[e])})),n));this.request.send(e.join("\n"),this.bufferBytesSize),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesSize=0,this.bufferMessageCount=0}var t,n},e.prototype.addOrUpdate=function(e,t){var n=this.process(e),r=n.processedMessage,i=n.messageBytesSize;i>=this.maxMessageSize?console.warn("Discarded a message whose size was bigger than the maximum allowed size "+this.maxMessageSize+"KB."):(this.hasMessageFor(t)&&this.remove(t),this.willReachedBytesLimitWith(i)&&this.flush(),this.push(r,i,t),this.isFull()&&this.flush())},e.prototype.process=function(e){var t=C(E({},this.contextProvider(),e));return{processedMessage:t,messageBytesSize:this.sizeInBytes(t)}},e.prototype.push=function(e,t,n){this.bufferMessageCount>0&&(this.bufferBytesSize+=1),void 0!==n?this.upsertBuffer[n]=e:this.pushOnlyBuffer.push(e),this.bufferBytesSize+=t,this.bufferMessageCount+=1},e.prototype.remove=function(e){var t=this.upsertBuffer[e];delete this.upsertBuffer[e];var n=this.sizeInBytes(t);this.bufferBytesSize-=n,this.bufferMessageCount-=1,this.bufferMessageCount>0&&(this.bufferBytesSize-=1)},e.prototype.hasMessageFor=function(e){return void 0!==e&&void 0!==this.upsertBuffer[e]},e.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesSize+e+1>=this.bytesLimit},e.prototype.isFull=function(){return this.bufferMessageCount===this.maxSize||this.bufferBytesSize>=this.bytesLimit},e.prototype.sizeInBytes=function(e){return~-encodeURI(e).split(/%..|./).length},e.prototype.flushPeriodically=function(){var e=this;setTimeout((function(){e.flush(),e.flushPeriodically()}),this.flushTimeout)},e.prototype.flushOnVisibilityHidden=function(){var e=this;navigator.sendBeacon&&(window.addEventListener(a.BEFORE_UNLOAD,W(this.beforeUnloadCallback)),document.addEventListener(a.VISIBILITY_CHANGE,W((function(){"hidden"===document.visibilityState&&e.flush()}))),window.addEventListener(a.BEFORE_UNLOAD,W((function(){return e.flush()}))))},e}();!function(e){e.info="info",e.error="error"}(H||(H={}));var j,F={maxMessagesPerPage:0,sentMessageCount:0};function W(e){return function(){try{return e.apply(this,arguments)}catch(e){V(e);try{K(e)}catch(e){V(e)}}}}function z(e){!function(e){F.debugMode&&console.log("[MONITORING MESSAGE]",e)}(e),G({message:e,status:H.info})}function K(e){G(r(r({},function(e){if(e instanceof Error){var t=U(e);return{error:{kind:t.name,stack:de(t)},message:t.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught "+C(e)}}(e)),{status:H.error}))}function G(e){F.batch&&F.sentMessageCount<F.maxMessagesPerPage&&(F.sentMessageCount+=1,F.batch.add(e))}function q(e){F.debugMode=e}function V(e){F.debugMode&&console.warn("[INTERNAL ERROR]",e)}var $,Y,X=function(){function e(){this.observers=[]}return e.prototype.subscribe=function(e){this.observers.push(e)},e.prototype.notify=function(e){this.observers.forEach((function(t){return t(e)}))},e}();function J(e){return ee(e,A(window.location)).href}function Q(e,t){return Z(e)===Z(t)}function Z(e){return A(ee(e))}function ee(e,t){if(function(){if(void 0!==$)return $;try{var e=new URL("http://test/path");return $="http://test/path"===e.href}catch(e){$=!1}return $}())return void 0!==t?new URL(e,t):new URL(e);if(void 0===t&&!/:/.test(e))throw new Error("Invalid URL: '"+e+"'");var n=document,r=n.createElement("a");if(void 0!==t){var i=(n=document.implementation.createHTMLDocument("")).createElement("base");i.href=t,n.head.appendChild(i),n.body.appendChild(r)}return r.href=e,r}!function(e){e.FETCH="fetch",e.XHR="xhr"}(Y||(Y={}));var te,ne,re,ie,oe,ue=1;function ae(){var e=ue;return ue+=1,e}function se(){return te||(function(e){var t=e[0],n=e[1],r=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=W((function(e,t){return this._datadog_xhr={method:e,url:t},r.apply(this,arguments)}));var i=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(e){var r=this,o=performance.now(),u=ae();t.notify({requestId:u});var a=!1,s=function(){a||(a=!0,n.notify({requestId:u,startTime:o,duration:performance.now()-o,method:r._datadog_xhr.method,response:r.response,status:r.status,traceId:ce(),type:Y.XHR,url:J(r._datadog_xhr.url)}))},c=this.onreadystatechange;return this.onreadystatechange=function(){this.readyState===XMLHttpRequest.DONE&&W(s)(),c&&c.apply(this,arguments)},this.addEventListener("loadend",W(s)),i.apply(this,arguments)}}(te=[new X,new X]),function(e){var t=e[0],n=e[1];if(!window.fetch)return;var r=window.fetch;window.fetch=W((function(e,u){var a=this,s=u&&u.method||"object"==typeof e&&e.method||"GET",c=performance.now(),f=ae();t.notify({requestId:f});var l=function(t){return i(a,void 0,void 0,(function(){var r,i,u,a,l;return o(this,(function(o){switch(o.label){case 0:return r=performance.now()-c,i=J("object"==typeof e&&e.url||e),"stack"in t||t instanceof Error?(u=U(t),n.notify({duration:r,method:s,requestId:f,startTime:c,url:i,response:de(u),status:0,traceId:ce(),type:Y.FETCH}),[3,6]):[3,1];case 1:if(!("status"in t))return[3,6];a=void 0,o.label=2;case 2:return o.trys.push([2,4,,5]),[4,t.clone().text()];case 3:return a=o.sent(),[3,5];case 4:return l=o.sent(),a="Unable to retrieve response: "+l,[3,5];case 5:n.notify({duration:r,method:s,requestId:f,startTime:c,url:i,response:a,responseType:t.type,status:t.status,traceId:ce(),type:Y.FETCH}),o.label=6;case 6:return[2]}}))}))},d=r.call(this,e,u);return d.then(W(l),W(l)),d}))}(te)),te}function ce(){return"ddtrace"in window&&window.ddtrace.tracer.scope().active()?window.ddtrace.tracer.scope().active().context().toTraceId():void 0}function fe(e){if(!re){var t=new X;if(e.isCollectingError)!function(e,t,n){n.subscribe((function(n){(function(e){return 0===e.status&&"opaque"!==e.responseType}(n)||function(e){return e.status>=500}(n))&&t.notify({context:{error:{origin:ne.NETWORK,stack:pe(n.response,e)||"Failed to load"},http:{method:n.method,status_code:n.status,url:n.url}},message:ve(n.type)+" error "+n.method+" "+n.url,startTime:n.startTime})}))}(e,t,se()[1]),function(e){ie=console.error,console.error=W((function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];ie.apply(console,u([t],n)),e.notify({context:{error:{origin:ne.CONSOLE}},message:u(["console error:",t],n).map(le).join(" "),startTime:performance.now()})}))}(t),function(e){oe=function(t,n,r){e.notify(function(e,t){var n,r;void 0!==e.message||t instanceof Error?(n=e.message||"Empty message",r=de(e)):(n="Uncaught "+C(t),r="No stack, consider using an instance of Error");return{message:n,context:{error:{stack:r,kind:e.name,origin:ne.SOURCE}},startTime:performance.now()}}(t,r))},k.subscribe(oe)}(t);re=function(e,t){var n=0,r=new X;return t.subscribe((function(t){n<e.maxErrorsByMinute?(n+=1,r.notify(t)):n===e.maxErrorsByMinute&&(n+=1,r.notify({context:{error:{origin:ne.AGENT}},message:"Reached max number of errors by minute: "+e.maxErrorsByMinute,startTime:performance.now()}))})),setInterval((function(){return n=0}),c),r}(e,t)}return re}function le(e){return"string"==typeof e?e:e instanceof Error?de(U(e)):C(e,0,2)}function de(e){var t=(e.name||"Error")+": "+e.message;return e.stack.forEach((function(e){var n="?"===e.func?"<anonymous>":e.func,r=e.args&&e.args.length>0?"("+e.args.join(", ")+")":"",i=e.line?":"+e.line:"",o=e.line&&e.column?":"+e.column:"";t+="\n  at "+n+r+" @ "+e.url+i+o})),t}function pe(e,t){return e&&e.length>t.requestErrorResponseLengthLimit?e.substring(0,t.requestErrorResponseLengthLimit)+"...":e}function ve(e){return Y.XHR===e?"XHR":"Fetch"}!function(e){e.AGENT="agent",e.CONSOLE="console",e.NETWORK="network",e.SOURCE="source",e.LOGGER="logger"}(ne||(ne={}));var Ee=1e3;function me(e,t,n){var r=new Date;r.setTime(r.getTime()+n);var i="expires="+r.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}function he(e){var t=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return t?t.pop():void 0}function ye(e){console.warn("'"+e+"' not yet available, please call '.init()' first.")}function Te(e,t){var n=function(e,t){var n={applicationId:e.applicationId,buildMode:t.buildMode,clientToken:e.clientToken,datacenter:e.datacenter||t.datacenter,env:e.env,proxyHost:e.proxyHost,sdkEnv:t.sdkEnv,sdkVersion:t.sdkVersion,service:e.service,version:e.version},i=Array.isArray(e.enableExperimentalFeatures)?e.enableExperimentalFeatures:[],o=r({isEnabled:function(e){return O(i,e)},logsEndpoint:x("browser",n),rumEndpoint:x("rum",n),traceEndpoint:x("public-trace",n)},I);return e.internalMonitoringApiKey&&(o.internalMonitoringEndpoint=x("browser",n,"browser-agent-internal-monitoring")),"isCollectingError"in e&&(o.isCollectingError=!!e.isCollectingError),"sampleRate"in e&&(o.sampleRate=e.sampleRate),"resourceSampleRate"in e&&(o.resourceSampleRate=e.resourceSampleRate),"e2e-test"===n.buildMode&&(void 0!==e.internalMonitoringEndpoint&&(o.internalMonitoringEndpoint=e.internalMonitoringEndpoint),void 0!==e.logsEndpoint&&(o.logsEndpoint=e.logsEndpoint),void 0!==e.rumEndpoint&&(o.rumEndpoint=e.rumEndpoint)),o}(e,t),i=function(e){if(e.internalMonitoringEndpoint){var t=new P(new B(e.internalMonitoringEndpoint,e.batchBytesLimit),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout,(function(){return E({date:(new Date).getTime(),view:{referrer:document.referrer,url:window.location.href}},void 0!==j?j():{})}));m(F,{batch:t,maxMessagesPerPage:e.maxInternalMonitoringMessagesPerPage,sentMessageCount:0})}return{setExternalContextProvider:function(e){j=e}}}(n);return{configuration:n,errorObservable:fe(n),internalMonitoring:i}}function ge(){return!!function(){if(void 0===document.cookie||null===document.cookie)return!1;try{return me("dd_rum_test","test",1e3),"test"===he("dd_rum_test")}catch(e){return console.error(e),!1}}()||(console.warn("Cookies are not authorized, we will not send any data."),!1)}function be(){return"file:"!==window.location.protocol||(console.error("Execution is not allowed in the current context."),!1)}var Ce="_dd",Re="_dd_r",Oe="_dd_l",Se="rum",we="logs";var _e="_dd_s",Le=15*c,Ae=4*f,Ie=c;function xe(e,t){var n,r,i,o,u,s=(n=_e,o=!1,u=function(){o=!0,window.clearTimeout(r),r=window.setTimeout((function(){o=!1}),Ee)},{get:function(){return o?i:(i=he(n),u(),i)},set:function(e,t){me(n,e,t),i=e,u()}});!function(e){var t=e.get(),n=he(Ce),r=he(Re),i=he(Oe);if(!t){var o={};n&&(o.id=n),i&&/^[01]$/.test(i)&&(o[we]=i),r&&/^[012]$/.test(r)&&(o[Se]=r),ke(o,e)}}(s);var c=new X,f=Ne(s).id,d=l((function(){var n=Ne(s),r=t(n[e]),i=r.trackingType,o=r.isTracked;n[e]=i,o&&!n.id&&(n.id=h(),n.created=String(Date.now())),ke(n,s),o&&f!==n.id&&(f=n.id,c.notify())}),Ee).throttled;return d(),function(e){var t=W(e),n={capture:!0,passive:!0};[a.CLICK,a.TOUCH_START,a.KEY_DOWN,a.SCROLL].forEach((function(e){document.addEventListener(e,t,n),Be.push((function(){return document.removeEventListener(e,t,n)}))}))}(d),function(e){var t=W((function(){"visible"===document.visibilityState&&e()})),n=window.setInterval(t,Ie);document.addEventListener(a.VISIBILITY_CHANGE,t),Be.push((function(){clearInterval(n),document.removeEventListener(a.VISIBILITY_CHANGE,t)}))}((function(){ke(Ne(s),s)})),{getId:function(){return Ne(s).id},getTrackingType:function(){return Ne(s)[e]},renewObservable:c}}var De=/^([a-z]+)=([a-z0-9-]+)$/,Me="&";function Ne(e){var t=function(e){var t=e.get(),n={};(function(e){return void 0!==e&&(-1!==e.indexOf(Me)||De.test(e))})(t)&&t.split(Me).forEach((function(e){var t=De.exec(e);if(null!==t){var r=t[1],i=t[2];n[r]=i}}));return n}(e);return function(e){return(void 0===e.created||Date.now()-Number(e.created)<Ae)&&(void 0===e.expire||Date.now()<Number(e.expire))}(t)?t:(Ue(e),{})}function ke(e,t){if(n=e,0!==Object.keys(n).length){var n;e.expire=String(Date.now()+Le);var r=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}(e).map((function(e){return e[0]+"="+e[1]})).join(Me);t.set(r,Le)}else Ue(t)}function Ue(e){e.set("",0)}var Be=[];(function(){function e(e){var t=this,n=e[0],r=e[1];this.requests=[],this.whenAllCompleteFn=b;var i=0;n.subscribe((function(){i+=1})),r.subscribe((function(e){t.requests.push(e),0===(i-=1)&&setTimeout((function(){t.whenAllCompleteFn(t.requests)}))}))}e.prototype.whenAllComplete=function(e){this.whenAllCompleteFn=e},e.prototype.getStub=function(){var e=this;return function(){var t,n,u=new Promise((function(e,r){t=e,n=r}));return u.resolveWith=function(n){return i(e,void 0,void 0,(function(){var e=this;return o(this,(function(u){return[2,t(r(r({},n),{clone:function(){return{text:function(){return i(e,void 0,void 0,(function(){return o(this,(function(e){if(n.responseTextError)throw n.responseTextError;return[2,n.responseText]}))}))}}}}))]}))}))},u.rejectWith=function(t){return i(e,void 0,void 0,(function(){return o(this,(function(e){return[2,n(t)]}))}))},u}}})(),function(){function e(){}e.prototype.getEntryTypes=function(){return this.instance.entryTypes},e.prototype.fakeEntry=function(e,t){var n=function(){return[e]};this.instance.callback({getEntries:n,getEntriesByName:n,getEntriesByType:function(e){return e===t?n():[]}})},e.prototype.getStub=function(){var e,t=this;return(e=function(){function e(e){this.callback=e,t.instance=this}return e.prototype.observe=function(e){e&&(t.instance.entryTypes=e.entryTypes)},e}()).supportedEntryTypes=["navigation"],e}}();var He,Pe={buildMode:"release",datacenter:"us",sdkEnv:"production",sdkVersion:"1.12.1"};!function(e){e[e.ERROR_COLLECTED=0]="ERROR_COLLECTED",e[e.PERFORMANCE_ENTRY_COLLECTED=1]="PERFORMANCE_ENTRY_COLLECTED",e[e.USER_ACTION_COLLECTED=2]="USER_ACTION_COLLECTED",e[e.VIEW_COLLECTED=3]="VIEW_COLLECTED",e[e.REQUEST_STARTED=4]="REQUEST_STARTED",e[e.REQUEST_COMPLETED=5]="REQUEST_COMPLETED",e[e.SESSION_RENEWED=6]="SESSION_RENEWED",e[e.RESOURCE_ADDED_TO_BATCH=7]="RESOURCE_ADDED_TO_BATCH",e[e.DOM_MUTATED=8]="DOM_MUTATED",e[e.BEFORE_UNLOAD=9]="BEFORE_UNLOAD"}(He||(He={}));var je=function(){function e(){this.callbacks={}}return e.prototype.notify=function(e,t){var n=this.callbacks[e];n&&n.forEach((function(e){return e(t)}))},e.prototype.subscribe=function(e,t){var n=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),{unsubscribe:function(){n.callbacks[e]=n.callbacks[e].filter((function(e){return t!==e}))}}},e}();function Fe(e){var t,n=function(){var e,t=window;if(t.Zone){var n=t.Zone.__symbol__("MutationObserver");e=t[n]}return e||(e=t.MutationObserver),e}();return n&&(t=new n(W((function(){e.notify(He.DOM_MUTATED)})))).observe(document.documentElement,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),{stop:function(){t&&t.disconnect()}}}var We="initial_document",ze=[[s.DOCUMENT,function(e){return We===e}],[s.XHR,function(e){return"xmlhttprequest"===e}],[s.FETCH,function(e){return"fetch"===e}],[s.BEACON,function(e){return"beacon"===e}],[s.CSS,function(e,t){return null!==t.match(/\.css$/i)}],[s.JS,function(e,t){return null!==t.match(/\.js$/i)}],[s.IMAGE,function(e,t){return O(["image","img","icon"],e)||null!==t.match(/\.(gif|jpg|jpeg|tiff|png|svg)$/i)}],[s.FONT,function(e,t){return null!==t.match(/\.(woff|eot|woff2|ttf)$/i)}],[s.MEDIA,function(e,t){return O(["audio","video"],e)||null!==t.match(/\.(mp3|mp4)$/i)}]];function Ke(e){var t=e.name;if(!function(e){try{return!!ee(e)}catch(e){return!1}}(t))return z('Failed to construct URL for "'+e.name+'"'),s.OTHER;for(var n=function(e){var t=ee(e).pathname;return"/"===t[0]?t:"/"+t}(t),r=0,i=ze;r<i.length;r++){var o=i[r],u=o[0];if((0,o[1])(e.initiatorType,n))return u}return s.OTHER}function Ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=1;n<e.length;n+=1)if(e[n-1]>e[n])return!1;return!0}function qe(e){var t=e.duration,n=e.startTime,r=e.responseEnd;return T(0===t&&n<r?r-n:t)}function Ve(e){var t=e.startTime,n=e.fetchStart,r=e.domainLookupStart,i=e.domainLookupEnd,o=e.connectStart,u=e.secureConnectionStart,a=e.connectEnd,s=e.requestStart,c=e.responseStart,f=e.responseEnd,l=e.redirectStart,d=e.redirectEnd;if(Ge(t,n,r,i,o,a,s,c,f)){var p=n!==t;if(!p||(l<t&&(l=t),d<t&&(d=n),Ge(t,l,d,n))){var v={download:$e(t,c,f),firstByte:$e(t,s,c)};return a!==n&&(v.connect=$e(t,o,a),Ge(o,u,a)&&(v.ssl=$e(t,u,a))),i!==n&&(v.dns=$e(t,r,i)),p&&(v.redirect=$e(t,l,d)),v}}}function $e(e,t,n){return{duration:T(n-t),start:T(t-e)}}function Ye(e){if(e.startTime<e.responseStart)return e.decodedBodySize}function Xe(e,t){return e&&!function(e,t){return Q(e,t.logsEndpoint)||Q(e,t.rumEndpoint)||Q(e,t.traceEndpoint)||t.internalMonitoringEndpoint&&Q(e,t.internalMonitoringEndpoint)}(e,t)}function Je(){return void 0!==window.performance&&"getEntries"in performance}function Qe(){return window.PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("navigation")}function Ze(e,t){if(function(e){var t;if(Qe()&&performance.getEntriesByType("navigation").length>0){var n=performance.getEntriesByType("navigation")[0];t=r({},n.toJSON())}else t=r(r({},et()),{name:window.location.href,decodedBodySize:0,startTime:0});t.entryType="resource",t.initiatorType=We,t.duration=t.responseEnd,e(t)}((function(n){tt(t,e,[n])})),Je()&&tt(t,e,performance.getEntries()),window.PerformanceObserver){var n=new PerformanceObserver(W((function(n){return tt(t,e,n.getEntries())}))),i=["resource","navigation","longtask"];"visible"===document.visibilityState&&i.push("paint"),n.observe({entryTypes:i}),Je()&&"addEventListener"in performance&&performance.addEventListener("resourcetimingbufferfull",(function(){performance.clearResourceTimings()}))}Qe()||function(e){function t(){var t=r(r({},et()),{entryType:"navigation"});e(t)}if("complete"===document.readyState)t();else{var n=W((function(){window.removeEventListener(a.LOAD,n),setTimeout(W(t))}));window.addEventListener(a.LOAD,n)}}((function(n){tt(t,e,[n])}))}function et(){var e={},t=performance.timing;for(var n in t)w(t[n])&&(e[n]=0===t[n]?0:t[n]-L());return e}function tt(e,t,n){function r(e){t.notify(He.PERFORMANCE_ENTRY_COLLECTED,e)}e.isTrackedWithResource()&&n.filter((function(e){return"resource"===e.entryType})).forEach(r),n.filter((function(e){return"navigation"===e.entryType})).filter((function(e){return e.loadEventEnd>0})).forEach(r),n.filter((function(e){return"paint"===e.entryType})).forEach(r),n.filter((function(e){return"longtask"===e.entryType})).forEach(r)}function nt(e){if(performance&&"getEntriesByName"in performance){var t,n=performance.getEntriesByName(e.url,"resource").filter((function(t){return n=t,r=e.startTime,i=rt(e),n.startTime>=r&&rt(n)<=i;var n,r,i}));return 1===n.length?n[0]:2===n.length&&rt((t=n)[0])<=t[1].startTime?n[1]:void 0}}function rt(e){return e.startTime+e.duration}var it=[function(e){return e.textContent},function(e){if("INPUT"===e.tagName){var t=e,n=t.getAttribute("type");if("button"===n||"submit"===n)return t.value}return null},function(e){return e.getAttribute("aria-label")},function(e){return e.getAttribute("alt")},function(e){return e.getAttribute("title")},function(e){return e.getAttribute("placeholder")}];function ot(e,t){void 0===t&&(t=b);var n={errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0},r=[];return r.push(e.subscribe(He.ERROR_COLLECTED,(function(){n.errorCount+=1,t(n)}))),r.push(e.subscribe(He.USER_ACTION_COLLECTED,(function(){n.userActionCount+=1,t(n)}))),r.push(e.subscribe(He.PERFORMANCE_ENTRY_COLLECTED,(function(e){"longtask"===e.entryType&&(n.longTaskCount+=1,t(n))}))),r.push(e.subscribe(He.RESOURCE_ADDED_TO_BATCH,(function(){n.resourceCount+=1,t(n)}))),{stop:function(){r.forEach((function(e){return e.unsubscribe()}))},eventCounts:n}}var ut,at,st=100,ct=100,ft=1e4;function lt(e,t){var n=function(e){var t,n=new X,r=[],i=0;function o(){n.notify({isBusy:i>0})}return r.push(e.subscribe(He.DOM_MUTATED,(function(){return o()}))),r.push(e.subscribe(He.PERFORMANCE_ENTRY_COLLECTED,(function(e){"resource"===e.entryType&&o()}))),r.push(e.subscribe(He.REQUEST_STARTED,(function(e){void 0===t&&(t=e.requestId),i+=1,o()}))),r.push(e.subscribe(He.REQUEST_COMPLETED,(function(e){void 0===t||e.requestId<t||(i-=1,o())}))),{observable:n,stop:function(){r.forEach((function(e){return e.unsubscribe()}))}}}(e),r=n.observable,i=n.stop,o=function(e,t,n){var r,i=!1,o=setTimeout(W((function(){return s(!1,0)})),st),u=setTimeout(W((function(){return s(!0,performance.now())})),ft);function a(){i=!0,clearTimeout(o),clearTimeout(r),clearTimeout(u),t()}function s(e,t){i||(a(),n(e,t))}return e.subscribe((function(e){var t=e.isBusy;clearTimeout(o),clearTimeout(r);var n=performance.now();t||(r=setTimeout(W((function(){return s(!0,n)})),ct))})),{stop:a}}(r,i,t).stop;return{stop:function(){o(),i()}}}function dt(e){function t(t){t.target instanceof Element&&pt(e,ut.CLICK,function e(t){for(var n=0,r=it;n<r.length;n++){var i=(0,r[n])(t);if("string"==typeof i){var o=i.trim();if(o)return(u=o).length>100?u.slice(0,100)+" [...]":u}}var u;return t.parentElement?e(t.parentElement):""}(t.target))}return addEventListener(a.CLICK,t,{capture:!0}),e.subscribe(He.VIEW_COLLECTED,(function(){at&&at.stop()})),{stop:function(){at&&at.stop(),removeEventListener(a.CLICK,t,{capture:!0})}}}function pt(e,t,n){if(!at){var r=h(),i=performance.now(),o=ot(e),u=o.eventCounts,a=o.stop,s=lt(e,(function(o,s){o&&e.notify(He.USER_ACTION_COLLECTED,{id:r,name:n,startTime:i,type:t,duration:s-i,measures:{errorCount:u.errorCount,longTaskCount:u.longTaskCount,resourceCount:u.resourceCount}}),a(),at=void 0})).stop;at={id:r,startTime:i,stop:function(){a(),s(),at=void 0}}}}function vt(e){if(at&&!(void 0!==e&&e<at.startTime))return{id:at.id}}!function(e){e.CLICK="click",e.CUSTOM="custom"}(ut||(ut={}));var Et;!function(e){e.INITIAL_LOAD="initial_load",e.ROUTE_CHANGE="route_change"}(Et||(Et={}));var mt,ht,yt,Tt=3e3;function gt(e,t,n){var i=r({},e),o=bt(t,i,n,Et.INITIAL_LOAD,0);!function(e){var t=history.pushState;history.pushState=W((function(){t.apply(this,arguments),e()}));var n=history.replaceState;history.replaceState=W((function(){n.apply(this,arguments),e()})),window.addEventListener(a.POP_STATE,W(e))}((function(){var u;u=e,i.pathname!==u.pathname&&(i=r({},e),o.end(),o=bt(t,i,n,Et.ROUTE_CHANGE))})),t.subscribe(He.SESSION_RENEWED,(function(){o.end(),o=bt(t,i,n,Et.ROUTE_CHANGE)})),t.subscribe(He.BEFORE_UNLOAD,(function(){o.end()}))}function bt(e,t,n,i,o){void 0===o&&(o=performance.now());var u,a=h(),s={errorCount:0,longTaskCount:0,resourceCount:0,userActionCount:0},c=0;mt={id:a,location:t,sessionId:n.getId()};var f=l(W(g),Tt,{leading:!1}),d=f.throttled,p=f.stop;function v(e){s=r(r({},s),e),d()}var E=function(e,t){var n={};return{stop:e.subscribe(He.PERFORMANCE_ENTRY_COLLECTED,(function(e){if("navigation"===e.entryType){var i=e;n=r(r({},n),{domComplete:T(i.domComplete),domContentLoaded:T(i.domContentLoadedEventEnd),domInteractive:T(i.domInteractive),loadEventEnd:T(i.loadEventEnd)}),t(n)}else if("paint"===e.entryType&&"first-contentful-paint"===e.name){var o=e;n=r(r({},n),{firstContentfulPaint:T(o.startTime)}),t(n)}})).unsubscribe}}(e,v).stop,m=ot(e,v).stop;var y=function(e,t,n){var r=1,i=[],o=b;t===Et.INITIAL_LOAD&&(r+=1,o=function(e,t){return{stop:e.subscribe(He.PERFORMANCE_ENTRY_COLLECTED,(function(e){"navigation"===e.entryType&&t(e.loadEventEnd)})).unsubscribe}}(e,a).stop);var u=function(e,t){var n=performance.now();return{stop:lt(e,(function(e,r){t(e?r-n:void 0)})).stop}}(e,a).stop;function a(e){r-=1,e&&i.push(e),0===r&&i.length&&n(Math.max.apply(Math,i))}return{stop:function(){u(),o()}}}(e,i,(function(e){u=e,d()})).stop;function g(){c+=1,e.notify(He.VIEW_COLLECTED,{documentVersion:c,id:a,loadingTime:u,loadingType:i,location:t,measures:s,duration:performance.now()-o,startTime:o})}return g(),{end:function(){E(),m(),y(),p(),g()}}}function Ct(e,t,n,i,o){var u={};o.setExternalContextProvider((function(){return E({application_id:e,session_id:mt.sessionId,view:{id:mt.id}},u)}));var a=function(e,t,n,i,o){var u=new P(new B(e.rumEndpoint,e.batchBytesLimit,!0),e.maxBatchSize,e.batchBytesLimit,e.maxMessageSize,e.flushTimeout,(function(){return E(g(n()),i())}),o);return{addRumEvent:function(e,n){t.isTracked()&&u.add(r(r({},n),g(e)))},upsertRumEvent:function(e,n){t.isTracked()&&u.upsert(g(e),n)}}}(n,i,(function(){return{applicationId:e,date:(new Date).getTime(),session:{type:void 0===window._DATADOG_SYNTHETICS_BROWSER?yt.USER:yt.SYNTHETICS},sessionId:mt.sessionId,view:{id:mt.id,referrer:document.referrer,url:mt.location.href}}}),(function(){return u}),(function(){return t.notify(He.BEFORE_UNLOAD)}));return function(e,t){e.subscribe(He.VIEW_COLLECTED,(function(e){t({date:_(e.startTime),duration:T(e.duration),evt:{category:ht.VIEW},rum:{documentVersion:e.documentVersion},view:{loadingTime:e.loadingTime?T(e.loadingTime):void 0,loadingType:e.loadingType,measures:e.measures}},e.id)}))}(t,a.upsertRumEvent),function(e,t){e.subscribe(He.ERROR_COLLECTED,(function(e){var n=e.message,i=e.startTime,o=e.context;t(r({message:n,date:_(i),evt:{category:ht.ERROR},userAction:vt(i)},o))}))}(t,a.addRumEvent),function(e,t,n,r){t.subscribe(He.REQUEST_COMPLETED,(function(i){if(n.isTrackedWithResource()&&Xe(i.url,e)){var o=nt(i),u=i.type===Y.XHR?s.XHR:s.FETCH,a=o?o.startTime:i.startTime;r({date:_(a),duration:o?qe(o):T(i.duration),evt:{category:ht.RESOURCE},http:{method:i.method,performance:o?Ve(o):void 0,statusCode:i.status,url:i.url},network:{bytesWritten:o?Ye(o):void 0},resource:{kind:u},traceId:i.traceId,userAction:vt(a)}),t.notify(He.RESOURCE_ADDED_TO_BATCH)}}))}(n,t,i,a.addRumEvent),function(e,t,n){t.subscribe(He.PERFORMANCE_ENTRY_COLLECTED,(function(r){switch(r.entryType){case"resource":!function(e,t,n,r){if(!Xe(t.name,e))return;var i=Ke(t);if(O([s.XHR,s.FETCH],i))return;n({date:_(t.startTime),duration:qe(t),evt:{category:ht.RESOURCE},http:{performance:Ve(t),url:t.name},network:{bytesWritten:Ye(t)},resource:{kind:i},userAction:vt(t.startTime)}),r.notify(He.RESOURCE_ADDED_TO_BATCH)}(e,r,n,t);break;case"longtask":!function(e,t){t({date:_(e.startTime),duration:T(e.duration),evt:{category:ht.LONG_TASK},userAction:vt(e.startTime)})}(r,n)}}))}(n,t,a.addRumEvent),function(e,t){e.subscribe(He.USER_ACTION_COLLECTED,(function(e){e.type===ut.CUSTOM&&t({evt:{category:ht.USER_ACTION,name:e.name},userAction:{type:e.type}},e.context)}))}(t,a.addRumEvent),function(e,t){e.subscribe(He.USER_ACTION_COLLECTED,(function(e){e.type!==ut.CUSTOM&&t({date:_(e.startTime),duration:T(e.duration),evt:{category:ht.USER_ACTION,name:e.name},userAction:{id:e.id,measures:e.measures,type:e.type}})}))}(t,a.addRumEvent),{addRumGlobalContext:W((function(e,t){u[e]=t})),addUserAction:W((function(e,n){t.notify(He.USER_ACTION_COLLECTED,{context:n,name:e,type:ut.CUSTOM})})),getInternalContext:W((function(){return{application_id:e,session_id:mt.sessionId,user_action:vt(),view:{id:mt.id}}})),setRumGlobalContext:W((function(e){u=e}))}}!function(e){e.USER_ACTION="user_action",e.ERROR="error",e.LONG_TASK="long_task",e.VIEW="view",e.RESOURCE="resource"}(ht||(ht={})),function(e){e.SYNTHETICS="synthetics",e.USER="user"}(yt||(yt={}));var Rt,Ot="rum";function St(e,t){var n=xe(Ot,(function(t){return function(e,t){var n;n=function(e){return e===Rt.NOT_TRACKED||e===Rt.TRACKED_WITH_RESOURCES||e===Rt.TRACKED_WITHOUT_RESOURCES}(t)?t:y(e.sampleRate)?y(e.resourceSampleRate)?Rt.TRACKED_WITH_RESOURCES:Rt.TRACKED_WITHOUT_RESOURCES:Rt.NOT_TRACKED;return{trackingType:n,isTracked:wt(n)}}(e,t)}));return n.renewObservable.subscribe((function(){t.notify(He.SESSION_RENEWED)})),{getId:n.getId,isTracked:function(){return void 0!==n.getId()&&wt(n.getTrackingType())},isTrackedWithResource:function(){return void 0!==n.getId()&&n.getTrackingType()===Rt.TRACKED_WITH_RESOURCES}}}function wt(e){return e===Rt.TRACKED_WITH_RESOURCES||e===Rt.TRACKED_WITHOUT_RESOURCES}!function(e){e.NOT_TRACKED="0",e.TRACKED_WITH_RESOURCES="1",e.TRACKED_WITHOUT_RESOURCES="2"}(Rt||(Rt={}));var _t,Lt=(_t=r({},{init:function(e){ye("core.init")},addRumGlobalContext:function(e,t){ye("addRumGlobalContext")},setRumGlobalContext:function(e){ye("setRumGlobalContext")},addUserAction:function(e,t){ye("addUserAction")},getInternalContext:function(){ye("getInternalContext")}}),Object.defineProperty(_t,"_setDebug",{get:function(){return q},enumerable:!1}),_t),At=!1;Lt.init=W((function(e){if(ge()&&be()&&function(e){if(At)return e.silentMultipleInit||console.error("DD_RUM is already initialized."),!1;if(!e||!e.clientToken&&!e.publicApiKey)return console.error("Client Token is not configured, we will not send any data."),!1;if(!e.applicationId)return console.error("Application ID is not configured, no RUM data will be collected."),!1;if(void 0!==e.sampleRate&&!S(e.sampleRate))return console.error("Sample Rate should be a number between 0 and 100"),!1;if(void 0!==e.resourceSampleRate&&!S(e.resourceSampleRate))return console.error("Resource Sample Rate should be a number between 0 and 100"),!1;return!0}(e)){e.publicApiKey&&(e.clientToken=e.publicApiKey);var t=r(r({},e),{isCollectingError:!0}),n=new je,i=Te(t,Pe),o=i.errorObservable,u=i.configuration,a=i.internalMonitoring,s=St(u,n),c=Ct(t.applicationId,n,u,s,a);gt(location,n,s);var f=se(),l=f[0],d=f[1];Ze(n,s),Fe(n),u.isEnabled("collect-user-actions")&&dt(n),o.subscribe((function(e){return n.notify(He.ERROR_COLLECTED,e)})),l.subscribe((function(e){return n.notify(He.REQUEST_STARTED,e)})),d.subscribe((function(e){return n.notify(He.REQUEST_COMPLETED,e)})),m(Lt,c),At=!0}})),(function(){if("object"==typeof globalThis)return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var e=_dd_temp_;return delete Object.prototype._dd_temp_,"object"!=typeof e&&(e="object"==typeof self?self:"object"==typeof window?window:{}),e}()).DD_RUM=Lt}]);