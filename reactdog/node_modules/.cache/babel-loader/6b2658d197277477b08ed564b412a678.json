{"ast":null,"code":"export var LifeCycleEventType;\n\n(function (LifeCycleEventType) {\n  LifeCycleEventType[LifeCycleEventType[\"ERROR_COLLECTED\"] = 0] = \"ERROR_COLLECTED\";\n  LifeCycleEventType[LifeCycleEventType[\"PERFORMANCE_ENTRY_COLLECTED\"] = 1] = \"PERFORMANCE_ENTRY_COLLECTED\";\n  LifeCycleEventType[LifeCycleEventType[\"USER_ACTION_COLLECTED\"] = 2] = \"USER_ACTION_COLLECTED\";\n  LifeCycleEventType[LifeCycleEventType[\"VIEW_COLLECTED\"] = 3] = \"VIEW_COLLECTED\";\n  LifeCycleEventType[LifeCycleEventType[\"REQUEST_STARTED\"] = 4] = \"REQUEST_STARTED\";\n  LifeCycleEventType[LifeCycleEventType[\"REQUEST_COMPLETED\"] = 5] = \"REQUEST_COMPLETED\";\n  LifeCycleEventType[LifeCycleEventType[\"SESSION_RENEWED\"] = 6] = \"SESSION_RENEWED\";\n  LifeCycleEventType[LifeCycleEventType[\"RESOURCE_ADDED_TO_BATCH\"] = 7] = \"RESOURCE_ADDED_TO_BATCH\";\n  LifeCycleEventType[LifeCycleEventType[\"DOM_MUTATED\"] = 8] = \"DOM_MUTATED\";\n  LifeCycleEventType[LifeCycleEventType[\"BEFORE_UNLOAD\"] = 9] = \"BEFORE_UNLOAD\";\n})(LifeCycleEventType || (LifeCycleEventType = {}));\n\nvar LifeCycle =\n/** @class */\nfunction () {\n  function LifeCycle() {\n    this.callbacks = {};\n  }\n\n  LifeCycle.prototype.notify = function (eventType, data) {\n    var eventCallbacks = this.callbacks[eventType];\n\n    if (eventCallbacks) {\n      eventCallbacks.forEach(function (callback) {\n        return callback(data);\n      });\n    }\n  };\n\n  LifeCycle.prototype.subscribe = function (eventType, callback) {\n    var _this = this;\n\n    if (!this.callbacks[eventType]) {\n      this.callbacks[eventType] = [];\n    }\n\n    this.callbacks[eventType].push(callback);\n    return {\n      unsubscribe: function () {\n        _this.callbacks[eventType] = _this.callbacks[eventType].filter(function (other) {\n          return callback !== other;\n        });\n      }\n    };\n  };\n\n  return LifeCycle;\n}();\n\nexport { LifeCycle };","map":{"version":3,"sources":["../src/lifeCycle.ts"],"names":[],"mappings":"AAIA,OAAA,IAAY,kBAAZ;;AAAA,CAAA,UAAY,kBAAZ,EAA8B;AAC5B,EAAA,kBAAA,CAAA,kBAAA,CAAA,iBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,iBAAA;AACA,EAAA,kBAAA,CAAA,kBAAA,CAAA,6BAAA,CAAA,GAAA,CAAA,CAAA,GAAA,6BAAA;AACA,EAAA,kBAAA,CAAA,kBAAA,CAAA,uBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,uBAAA;AACA,EAAA,kBAAA,CAAA,kBAAA,CAAA,gBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,gBAAA;AACA,EAAA,kBAAA,CAAA,kBAAA,CAAA,iBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,iBAAA;AACA,EAAA,kBAAA,CAAA,kBAAA,CAAA,mBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,mBAAA;AACA,EAAA,kBAAA,CAAA,kBAAA,CAAA,iBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,iBAAA;AACA,EAAA,kBAAA,CAAA,kBAAA,CAAA,yBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,yBAAA;AACA,EAAA,kBAAA,CAAA,kBAAA,CAAA,aAAA,CAAA,GAAA,CAAA,CAAA,GAAA,aAAA;AACA,EAAA,kBAAA,CAAA,kBAAA,CAAA,eAAA,CAAA,GAAA,CAAA,CAAA,GAAA,eAAA;AACD,CAXD,EAAY,kBAAkB,KAAlB,kBAAkB,GAAA,EAAA,CAA9B;;AAiBA,IAAA,SAAA;AAAA;AAAA,YAAA;AAAA,WAAA,SAAA,GAAA;AACU,SAAA,SAAA,GAA0E,EAA1E;AAqDT;;AAtCC,EAAA,SAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,SAAP,EAAsC,IAAtC,EAAgD;AAC9C,QAAM,cAAc,GAAG,KAAK,SAAL,CAAe,SAAf,CAAvB;;AACA,QAAI,cAAJ,EAAoB;AAClB,MAAA,cAAc,CAAC,OAAf,CAAuB,UAAC,QAAD,EAAS;AAAK,eAAA,QAAQ,CAAR,IAAQ,CAAR;AAAc,OAAnD;AACD;AACF,GALD;;AA2BA,EAAA,SAAA,CAAA,SAAA,CAAA,SAAA,GAAA,UAAU,SAAV,EAAyC,QAAzC,EAAuE;AAAvE,QAAA,KAAA,GAAA,IAAA;;AACE,QAAI,CAAC,KAAK,SAAL,CAAe,SAAf,CAAL,EAAgC;AAC9B,WAAK,SAAL,CAAe,SAAf,IAA4B,EAA5B;AACD;;AACD,SAAK,SAAL,CAAe,SAAf,EAA2B,IAA3B,CAAgC,QAAhC;AACA,WAAO;AACL,MAAA,WAAW,EAAE,YAAA;AACX,QAAA,KAAI,CAAC,SAAL,CAAe,SAAf,IAA4B,KAAI,CAAC,SAAL,CAAe,SAAf,EAA2B,MAA3B,CAAkC,UAAC,KAAD,EAAM;AAAK,iBAAA,QAAQ,KAAR,KAAA;AAAkB,SAA/D,CAA5B;AACD;AAHI,KAAP;AAKD,GAVD;;AAWF,SAAA,SAAA;AAAC,CAtDD,EAAA","sourceRoot":"","sourcesContent":["export var LifeCycleEventType;\n(function (LifeCycleEventType) {\n    LifeCycleEventType[LifeCycleEventType[\"ERROR_COLLECTED\"] = 0] = \"ERROR_COLLECTED\";\n    LifeCycleEventType[LifeCycleEventType[\"PERFORMANCE_ENTRY_COLLECTED\"] = 1] = \"PERFORMANCE_ENTRY_COLLECTED\";\n    LifeCycleEventType[LifeCycleEventType[\"USER_ACTION_COLLECTED\"] = 2] = \"USER_ACTION_COLLECTED\";\n    LifeCycleEventType[LifeCycleEventType[\"VIEW_COLLECTED\"] = 3] = \"VIEW_COLLECTED\";\n    LifeCycleEventType[LifeCycleEventType[\"REQUEST_STARTED\"] = 4] = \"REQUEST_STARTED\";\n    LifeCycleEventType[LifeCycleEventType[\"REQUEST_COMPLETED\"] = 5] = \"REQUEST_COMPLETED\";\n    LifeCycleEventType[LifeCycleEventType[\"SESSION_RENEWED\"] = 6] = \"SESSION_RENEWED\";\n    LifeCycleEventType[LifeCycleEventType[\"RESOURCE_ADDED_TO_BATCH\"] = 7] = \"RESOURCE_ADDED_TO_BATCH\";\n    LifeCycleEventType[LifeCycleEventType[\"DOM_MUTATED\"] = 8] = \"DOM_MUTATED\";\n    LifeCycleEventType[LifeCycleEventType[\"BEFORE_UNLOAD\"] = 9] = \"BEFORE_UNLOAD\";\n})(LifeCycleEventType || (LifeCycleEventType = {}));\nvar LifeCycle = /** @class */ (function () {\n    function LifeCycle() {\n        this.callbacks = {};\n    }\n    LifeCycle.prototype.notify = function (eventType, data) {\n        var eventCallbacks = this.callbacks[eventType];\n        if (eventCallbacks) {\n            eventCallbacks.forEach(function (callback) { return callback(data); });\n        }\n    };\n    LifeCycle.prototype.subscribe = function (eventType, callback) {\n        var _this = this;\n        if (!this.callbacks[eventType]) {\n            this.callbacks[eventType] = [];\n        }\n        this.callbacks[eventType].push(callback);\n        return {\n            unsubscribe: function () {\n                _this.callbacks[eventType] = _this.callbacks[eventType].filter(function (other) { return callback !== other; });\n            },\n        };\n    };\n    return LifeCycle;\n}());\nexport { LifeCycle };\n//# sourceMappingURL=lifeCycle.js.map"]},"metadata":{},"sourceType":"module"}