{"ast":null,"code":"function truncate(s) {\n  return s.length > 100 ? s.slice(0, 100) + \" [...]\" : s;\n}\n\nvar candidates = [function (element) {\n  return element.textContent;\n}, function (element) {\n  if (element.tagName === 'INPUT') {\n    var input = element;\n    var type = input.getAttribute('type');\n\n    if (type === 'button' || type === 'submit') {\n      return input.value;\n    }\n  } // tslint:disable-next-line no-null-keyword\n\n\n  return null;\n}, function (element) {\n  return element.getAttribute('aria-label');\n}, function (element) {\n  return element.getAttribute('alt');\n}, function (element) {\n  return element.getAttribute('title');\n}, function (element) {\n  return element.getAttribute('placeholder');\n}];\nexport function getElementContent(element) {\n  for (var _i = 0, candidates_1 = candidates; _i < candidates_1.length; _i++) {\n    var candidate = candidates_1[_i];\n    var content = candidate(element);\n\n    if (typeof content === 'string') {\n      var trimedContent = content.trim();\n\n      if (trimedContent) {\n        return truncate(trimedContent);\n      }\n    }\n  }\n\n  return element.parentElement ? getElementContent(element.parentElement) : '';\n}","map":{"version":3,"sources":["../src/getElementContent.ts"],"names":[],"mappings":"AAAA,SAAS,QAAT,CAAkB,CAAlB,EAA2B;AACzB,SAAO,CAAC,CAAC,MAAF,GAAW,GAAX,GAAoB,CAAC,CAAC,KAAF,CAAQ,CAAR,EAAW,GAAX,IAAe,QAAnC,GAA8C,CAArD;AACD;;AAED,IAAM,UAAU,GAA+C,CAC7D,UAAC,OAAD,EAAQ;AAAK,SAAA,OAAO,CAAP,WAAA;AAAmB,CAD6B,EAE7D,UAAC,OAAD,EAAQ;AACN,MAAI,OAAO,CAAC,OAAR,KAAoB,OAAxB,EAAiC;AAC/B,QAAM,KAAK,GAAG,OAAd;AACA,QAAM,IAAI,GAAG,KAAK,CAAC,YAAN,CAAmB,MAAnB,CAAb;;AACA,QAAI,IAAI,KAAK,QAAT,IAAqB,IAAI,KAAK,QAAlC,EAA4C;AAC1C,aAAO,KAAK,CAAC,KAAb;AACD;AACF,GAPK,CAQN;;;AACA,SAAO,IAAP;AACD,CAZ4D,EAa7D,UAAC,OAAD,EAAQ;AAAK,SAAA,OAAO,CAAC,YAAR,CAAA,YAAA,CAAA;AAAkC,CAbc,EAc7D,UAAC,OAAD,EAAQ;AAAK,SAAA,OAAO,CAAC,YAAR,CAAA,KAAA,CAAA;AAA2B,CAdqB,EAe7D,UAAC,OAAD,EAAQ;AAAK,SAAA,OAAO,CAAC,YAAR,CAAA,OAAA,CAAA;AAA6B,CAfmB,EAgB7D,UAAC,OAAD,EAAQ;AAAK,SAAA,OAAO,CAAC,YAAR,CAAA,aAAA,CAAA;AAAmC,CAhBa,CAA/D;AAmBA,OAAM,SAAU,iBAAV,CAA4B,OAA5B,EAA4C;AAChD,OAAwB,IAAA,EAAA,GAAA,CAAA,EAAA,YAAA,GAAA,UAAxB,EAAwB,EAAA,GAAA,YAAA,CAAA,MAAxB,EAAwB,EAAA,EAAxB,EAAoC;AAA/B,QAAM,SAAS,GAAA,YAAA,CAAA,EAAA,CAAf;AACH,QAAM,OAAO,GAAG,SAAS,CAAC,OAAD,CAAzB;;AACA,QAAI,OAAO,OAAP,KAAmB,QAAvB,EAAiC;AAC/B,UAAM,aAAa,GAAG,OAAO,CAAC,IAAR,EAAtB;;AACA,UAAI,aAAJ,EAAmB;AACjB,eAAO,QAAQ,CAAC,aAAD,CAAf;AACD;AACF;AACF;;AACD,SAAO,OAAO,CAAC,aAAR,GAAwB,iBAAiB,CAAC,OAAO,CAAC,aAAT,CAAzC,GAAmE,EAA1E;AACD","sourceRoot":"","sourcesContent":["function truncate(s) {\n    return s.length > 100 ? s.slice(0, 100) + \" [...]\" : s;\n}\nvar candidates = [\n    function (element) { return element.textContent; },\n    function (element) {\n        if (element.tagName === 'INPUT') {\n            var input = element;\n            var type = input.getAttribute('type');\n            if (type === 'button' || type === 'submit') {\n                return input.value;\n            }\n        }\n        // tslint:disable-next-line no-null-keyword\n        return null;\n    },\n    function (element) { return element.getAttribute('aria-label'); },\n    function (element) { return element.getAttribute('alt'); },\n    function (element) { return element.getAttribute('title'); },\n    function (element) { return element.getAttribute('placeholder'); },\n];\nexport function getElementContent(element) {\n    for (var _i = 0, candidates_1 = candidates; _i < candidates_1.length; _i++) {\n        var candidate = candidates_1[_i];\n        var content = candidate(element);\n        if (typeof content === 'string') {\n            var trimedContent = content.trim();\n            if (trimedContent) {\n                return truncate(trimedContent);\n            }\n        }\n    }\n    return element.parentElement ? getElementContent(element.parentElement) : '';\n}\n//# sourceMappingURL=getElementContent.js.map"]},"metadata":{},"sourceType":"module"}