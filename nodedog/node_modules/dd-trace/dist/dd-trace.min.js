!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=112)}([function(t,e,n){"use strict";var r,o=n(88),i=n(7),a=n(1),u=n(8),c=n(4),s=n(35),f=n(10),l=n(18),p=n(9).f,h=n(39),y=n(24),v=n(3),d=n(30),_=a.Int8Array,g=_&&_.prototype,b=a.Uint8ClampedArray,m=b&&b.prototype,w=_&&h(_),S=g&&h(g),x=Object.prototype,E=x.isPrototypeOf,O=v("toStringTag"),T=d("TYPED_ARRAY_TAG"),k=o&&!!y&&"Opera"!==s(a.opera),A=!1,R={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},I=function(t){return u(t)&&c(R,s(t))};for(r in R)a[r]||(k=!1);if((!k||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},k))for(r in R)a[r]&&y(a[r],w);if((!k||!S||S===x)&&(S=w.prototype,k))for(r in R)a[r]&&y(a[r].prototype,S);if(k&&h(m)!==S&&y(m,S),i&&!c(S,O))for(r in A=!0,p(S,O,{get:function(){return u(this)?this[T]:void 0}}),R)a[r]&&f(a[r],T,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:k,TYPED_ARRAY_TAG:A&&T,aTypedArray:function(t){if(I(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(y){if(E.call(w,t))return t}else for(var e in R)if(c(R,r)){var n=a[e];if(n&&(t===n||E.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(i){if(n)for(var r in R){var o=a[r];o&&c(o.prototype,t)&&delete o.prototype[t]}S[t]&&!n||l(S,t,n?e:k&&g[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,o;if(i){if(y){if(n)for(r in R)(o=a[r])&&c(o,t)&&delete o[t];if(w[t]&&!n)return;try{return l(w,t,n?e:k&&_[t]||e)}catch(t){}}for(r in R)!(o=a[r])||o[t]&&!n||l(o,t,e)}},isView:function(t){var e=s(t);return"DataView"===e||c(R,e)},isTypedArray:I,TypedArray:w,TypedArrayPrototype:S}},function(t,e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof global&&global)||Function("return this")()},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(1),o=n(68),i=n(4),a=n(30),u=n(77),c=n(125),s=o("wks"),f=r.Symbol,l=c?f:f&&f.withoutSetter||a;t.exports=function(t){return i(s,t)||(u&&i(f,t)?s[t]=f[t]:s[t]=l("Symbol."+t)),s[t]}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(16),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0});var o=n(196);e.BinaryCarrier=o.default;var i=n(197);e.Tags=i;var a=n(59),u=n(97);e.Reference=u.default;var c=n(25);e.Span=c.default;var s=n(94);e.SpanContext=s.default;var f=n(60);e.Tracer=f.Tracer;var l=n(198);e.MockTracer=l.MockTracer,r(n(201)),r(n(96)),r(n(95)),a.initialize()},function(t,e,n){var r=n(2);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(7),o=n(64),i=n(13),a=n(46),u=Object.defineProperty;e.f=r?u:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(7),o=n(9),i=n(28);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){"use strict";var r=n(27),o=n(1),i=n(7),a=n(58),u=n(0),c=n(142),s=n(36),f=n(28),l=n(10),p=n(5),h=n(89),y=n(91),v=n(46),d=n(4),_=n(35),g=n(8),b=n(38),m=n(24),w=n(51).f,S=n(92),x=n(15).forEach,E=n(84),O=n(9),T=n(43),k=n(19),A=n(80),R=k.get,I=k.set,P=O.f,j=T.f,M=Math.round,C=o.RangeError,D=c.ArrayBuffer,N=c.DataView,L=u.NATIVE_ARRAY_BUFFER_VIEWS,B=u.TYPED_ARRAY_TAG,F=u.TypedArray,U=u.TypedArrayPrototype,G=u.aTypedArrayConstructor,H=u.isTypedArray,Y=function(t,e){for(var n=0,r=e.length,o=new(G(t))(r);r>n;)o[n]=e[n++];return o},z=function(t,e){P(t,e,{get:function(){return R(this)[e]}})},W=function(t){var e;return t instanceof D||"ArrayBuffer"==(e=_(t))||"SharedArrayBuffer"==e},V=function(t,e){return H(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},q=function(t,e){return V(t,e=v(e,!0))?f(2,t[e]):j(t,e)},K=function(t,e,n){return!(V(t,e=v(e,!0))&&g(n)&&d(n,"value"))||d(n,"get")||d(n,"set")||n.configurable||d(n,"writable")&&!n.writable||d(n,"enumerable")&&!n.enumerable?P(t,e,n):(t[e]=n.value,t)};i?(L||(T.f=q,O.f=K,z(U,"buffer"),z(U,"byteOffset"),z(U,"byteLength"),z(U,"length")),r({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:q,defineProperty:K}),t.exports=function(t,e,n){var i=t.match(/\d+$/)[0]/8,u=t+(n?"Clamped":"")+"Array",c="get"+t,f="set"+t,v=o[u],d=v,_=d&&d.prototype,O={},T=function(t,e){P(t,e,{get:function(){return function(t,e){var n=R(t);return n.view[c](e*i+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var o=R(t);n&&(r=(r=M(r))<0?0:r>255?255:255&r),o.view[f](e*i+o.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};L?a&&(d=e((function(t,e,n,r){return s(t,d,u),A(g(e)?W(e)?void 0!==r?new v(e,y(n,i),r):void 0!==n?new v(e,y(n,i)):new v(e):H(e)?Y(d,e):S.call(d,e):new v(h(e)),t,d)})),m&&m(d,F),x(w(v),(function(t){t in d||l(d,t,v[t])})),d.prototype=_):(d=e((function(t,e,n,r){s(t,d,u);var o,a,c,f=0,l=0;if(g(e)){if(!W(e))return H(e)?Y(d,e):S.call(d,e);o=e,l=y(n,i);var v=e.byteLength;if(void 0===r){if(v%i)throw C("Wrong length");if((a=v-l)<0)throw C("Wrong length")}else if((a=p(r)*i)+l>v)throw C("Wrong length");c=a/i}else c=h(e),o=new D(a=c*i);for(I(t,{buffer:o,byteOffset:l,byteLength:a,length:c,view:new N(o)});f<c;)T(t,f++)})),m&&m(d,F),_=d.prototype=b(U)),_.constructor!==d&&l(_,"constructor",d),B&&l(_,B,u),O[u]=d,r({global:!0,forced:d!=v,sham:!L},O),"BYTES_PER_ELEMENT"in d||l(d,"BYTES_PER_ELEMENT",i),"BYTES_PER_ELEMENT"in _||l(_,"BYTES_PER_ELEMENT",i),E(u)}):t.exports=function(){}},function(t,e,n){"use strict";t.exports={use:function(t){Object.assign(this,t)},configure:function(t){this._config=t}}},function(t,e,n){var r=n(8);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(45);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(34),o=n(29),i=n(14),a=n(5),u=n(145),c=[].push,s=function(t){var e=1==t,n=2==t,s=3==t,f=4==t,l=6==t,p=5==t||l;return function(h,y,v,d){for(var _,g,b=i(h),m=o(b),w=r(y,v,3),S=a(m.length),x=0,E=d||u,O=e?E(h,S):n?E(h,0):void 0;S>x;x++)if((p||x in m)&&(g=w(_=m[x],x,b),t))if(e)O[x]=g;else if(g)switch(t){case 3:return!0;case 5:return _;case 6:return x;case 2:c.call(O,_)}else if(f)return!1;return l?-1:s||f?f:O}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i,a,u,c={debug:function(t){return console.log(t)},error:function(t){return console.error(t)}},s={debug:20,error:50},f=function(t){return s[t]>=u},l=function(t){return t&&"string"==typeof t&&s[t.toLowerCase().trim()]||s.debug},p={use:function(t){return t&&t.debug instanceof Function&&t.error instanceof Function&&(o=t),this},toggle:function(t,e){return i=t,u=l(e),this},reset:function(){var t,e,n=this;return o=c,i=!1,t=function(t,e){return o.error(e),n},e={},a=function(n){return e[n]||(e[n]=t.apply(this,arguments)),e[n]},u=l(),this},debug:function(t){return i&&f("debug")&&o.debug(t instanceof Function?t():t),this},error:function(t){return i&&f("error")&&(t instanceof Function&&(t=t()),"object"===r(t)&&t?t.stack||(t=String(t.message||t)):t=String(t),"string"==typeof t&&(t=new Error(t)),o.error(t)),this},deprecate:function(t,e){return a(t,e)}};p.reset(),t.exports=p},function(t,e,n){var r=n(1),o=n(10),i=n(4),a=n(47),u=n(66),c=n(19),s=c.get,f=c.enforce,l=String(String).split("String");(t.exports=function(t,e,n,u){var c=!!u&&!!u.unsafe,s=!!u&&!!u.enumerable,p=!!u&&!!u.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),f(n).source=l.join("string"==typeof e?e:"")),t!==r?(c?!p&&t[e]&&(s=!0):delete t[e],s?t[e]=n:o(t,e,n)):s?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||u(this)}))},function(t,e,n){var r,o,i,a=n(117),u=n(1),c=n(8),s=n(10),f=n(4),l=n(48),p=n(31),h=u.WeakMap;if(a){var y=new h,v=y.get,d=y.has,_=y.set;r=function(t,e){return _.call(y,t,e),e},o=function(t){return v.call(y,t)||{}},i=function(t){return d.call(y,t)}}else{var g=l("state");p[g]=!0,r=function(t,e){return s(t,g,e),e},o=function(t){return f(t,g)?t[g]:{}},i=function(t){return f(t,g)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){"use strict";t.exports={SAMPLE_RATE_METRIC_KEY:"_sample_rate",SAMPLING_PRIORITY_KEY:"_sampling_priority_v1",ANALYTICS_KEY:"_dd1.sr.eausr",ORIGIN_KEY:"_dd.origin",HOSTNAME_KEY:"_dd.hostname",REFERENCE_NOOP:"noop",SAMPLING_RULE_DECISION:"_dd.rule_psr",SAMPLING_LIMIT_DECISION:"_dd.limit_psr",SAMPLING_AGENT_DECISION:"_dd.agent_psr"}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(12),i=new Uint8Array(8),a=new Uint32Array(2);o.crypto&&o.crypto.getRandomValues(a);var u=Array.prototype.map,c=function(t){return"".concat(t<16?"0":"").concat(t.toString(16))},s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._buffer="number"==typeof n?function(t,e){var n=new Uint8Array(8),r=t.length,o=0,i=0,a=0;"-"===t[0]&&o++;var u=o;for(;o<r;){var c=parseInt(t[o++],e);if(!(c>=0))break;a=a*e+c,i=i*e+Math.floor(a/4294967296),a%=4294967296}u&&(i=~i,a?a=4294967296-a:i++);return p(n,i,0),p(n,a,4),n}(e,n):function(t){if("0"===t)return i;if(!t)return function(){var t=new Uint8Array(8),e=2147483647&f(a[0]),n=f(a[1]);return p(t,e,0),p(t,n,4),t}();for(var e=Math.ceil(t.length/2),n=new Uint8Array(e),r=0;r<e;r++)n[r]=parseInt(t.substring(2*r,2*r+2),16);return n}(e)}var e,n,o;return e=t,(n=[{key:"toString",value:function(t){return"number"==typeof t?function(t,e){var n=l(t,0),r=l(t,4),o="";for(e=e||10;;){var i=n%e*4294967296+r;if(n=Math.floor(n/e),r=Math.floor(i/e),o=(i%e).toString(e)+o,!n&&!r)break}return o}(this._buffer,t):(e=this._buffer,u.call(e,c).join(""));var e}},{key:"toBuffer",value:function(){return this._buffer}},{key:"toJSON",value:function(){return this.toString()}}])&&r(e.prototype,n),o&&r(e,o),t}();function f(t){return t^Math.floor(4294967296*Math.random())}function l(t,e){return 16777216*t[e+0]+(t[e+1]<<16)+(t[e+2]<<8)+t[e+3]}function p(t,e,n){t[3+n]=255&e,e>>=8,t[2+n]=255&e,e>>=8,t[1+n]=255&e,e>>=8,t[0+n]=255&e}t.exports=function(t,e){return new s(t,e)}},function(t,e,n){var r=n(29),o=n(45);t.exports=function(t){return r(o(t))}},function(t,e){t.exports={}},function(t,e,n){var r=n(13),o=n(127);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(59),o=function(){function t(){}return t.prototype.context=function(){return this._context()},t.prototype.tracer=function(){return this._tracer()},t.prototype.setOperationName=function(t){return this._setOperationName(t),this},t.prototype.setBaggageItem=function(t,e){return this._setBaggageItem(t,e),this},t.prototype.getBaggageItem=function(t){return this._getBaggageItem(t)},t.prototype.setTag=function(t,e){var n;return this._addTags(((n={})[t]=e,n)),this},t.prototype.addTags=function(t){return this._addTags(t),this},t.prototype.log=function(t,e){return this._log(t,e),this},t.prototype.logEvent=function(t,e){return this._log({event:t,payload:e})},t.prototype.finish=function(t){this._finish(t)},t.prototype._context=function(){return r.spanContext},t.prototype._tracer=function(){return r.tracer},t.prototype._setOperationName=function(t){},t.prototype._setBaggageItem=function(t,e){},t.prototype._getBaggageItem=function(t){},t.prototype._addTags=function(t){},t.prototype._log=function(t,e){},t.prototype._finish=function(t){},t}();e.Span=o,e.default=o},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,n,r,u=a(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),t=t||{},(e=u.call(this))._traceId=t.traceId,e._spanId=t.spanId,e._parentId=t.parentId||null,e._name=t.name,e._isFinished=t.isFinished||!1,e._tags=t.tags||{},e._sampling=t.sampling||{},e._baggageItems=t.baggageItems||{},e._traceFlags=t.traceFlags||{},e._traceFlags.sampled=!1!==e._traceFlags.sampled,e._traceFlags.debug=!0===e._traceFlags.debug,e._noop=t.noop||null,e._trace=t.trace||{started:[],finished:[]},e}return e=c,(n=[{key:"toTraceId",value:function(){return this._traceId.toString(10)}},{key:"toSpanId",value:function(){return this._spanId.toString(10)}}])&&o(e.prototype,n),r&&o(e,r),c}(n(6).SpanContext);t.exports=s},function(t,e,n){var r=n(1),o=n(43).f,i=n(10),a=n(18),u=n(47),c=n(118),s=n(71);t.exports=function(t,e){var n,f,l,p,h,y=t.target,v=t.global,d=t.stat;if(n=v?r:d?r[y]||u(y,{}):(r[y]||{}).prototype)for(f in e){if(p=e[f],l=t.noTargetGet?(h=o(n,f))&&h.value:n[f],!s(v?f:y+(d?".":"#")+f,t.forced)&&void 0!==l){if(typeof p==typeof l)continue;c(p,l)}(t.sham||l&&l.sham)&&i(p,"sham",!0),a(n,f,p,t)}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(2),o=n(44),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var r=n(1);t.exports=r},function(t,e,n){var r=n(16),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e,n){var r=n(54);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(55),o=n(44),i=n(3)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(9).f,o=n(4),i=n(3)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r,o=n(13),i=n(128),a=n(53),u=n(31),c=n(129),s=n(65),f=n(48),l=f("IE_PROTO"),p=function(){},h=function(t){return"<script>"+t+"<\/script>"},y=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;y=r?function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=s("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete y.prototype[a[n]];return y()};u[l]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=o(t),n=new p,p.prototype=null,n[l]=t):n=y(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(4),o=n(14),i=n(48),a=n(131),u=i("IE_PROTO"),c=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,u)?t[u]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},function(t,e,n){var r=n(13),o=n(54),i=n(3)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){"use strict";var r=n(194),o=n(195),i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,u=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(t){return(t||"").toString().replace(u,"")}var s=[["#","hash"],["?","query"],function(t){return t.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],f={hash:1,query:1};function l(t){var e,n=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).location||{},r={},o=typeof(t=t||n);if("blob:"===t.protocol)r=new h(unescape(t.pathname),{});else if("string"===o)for(e in r=new h(t,{}),f)delete r[e];else if("object"===o){for(e in t)e in f||(r[e]=t[e]);void 0===r.slashes&&(r.slashes=i.test(t.href))}return r}function p(t){t=c(t);var e=a.exec(t);return{protocol:e[1]?e[1].toLowerCase():"",slashes:!!e[2],rest:e[3]}}function h(t,e,n){if(t=c(t),!(this instanceof h))return new h(t,e,n);var i,a,u,f,y,v,d=s.slice(),_=typeof e,g=this,b=0;for("object"!==_&&"string"!==_&&(n=e,e=null),n&&"function"!=typeof n&&(n=o.parse),e=l(e),i=!(a=p(t||"")).protocol&&!a.slashes,g.slashes=a.slashes||i&&e.slashes,g.protocol=a.protocol||e.protocol||"",t=a.rest,a.slashes||(d[3]=[/(.*)/,"pathname"]);b<d.length;b++)"function"!=typeof(f=d[b])?(u=f[0],v=f[1],u!=u?g[v]=t:"string"==typeof u?~(y=t.indexOf(u))&&("number"==typeof f[2]?(g[v]=t.slice(0,y),t=t.slice(y+f[2])):(g[v]=t.slice(y),t=t.slice(0,y))):(y=u.exec(t))&&(g[v]=y[1],t=t.slice(0,y.index)),g[v]=g[v]||i&&f[3]&&e[v]||"",f[4]&&(g[v]=g[v].toLowerCase())):t=f(t);n&&(g.query=n(g.query)),i&&e.slashes&&"/"!==g.pathname.charAt(0)&&(""!==g.pathname||""!==e.pathname)&&(g.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(g.pathname,e.pathname)),r(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(f=g.auth.split(":"),g.username=f[0]||"",g.password=f[1]||""),g.origin=g.protocol&&g.host&&"file:"!==g.protocol?g.protocol+"//"+g.host:"null",g.href=g.toString()}h.prototype={set:function(t,e,n){var i=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||o.parse)(e)),i[t]=e;break;case"port":i[t]=e,r(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="");break;case"hostname":i[t]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[t]=e,/:\d+$/.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";i[t]=e.charAt(0)!==a?a+e:e}else i[t]=e;break;default:i[t]=e}for(var u=0;u<s.length;u++){var c=s[u];c[4]&&(i[c[1]]=i[c[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(t){t&&"function"==typeof t||(t=o.stringify);var e,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(i+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(i+=n.hash),i}},h.extractProtocol=p,h.location=l,h.trimLeft=c,h.qs=o,t.exports=h},function(t,e,n){"use strict";var r={SERVICE_NAME:"service.name",RESOURCE_NAME:"resource.name",SPAN_TYPE:"span.type",SPAN_KIND:"span.kind",SAMPLING_PRIORITY:"sampling.priority",ANALYTICS:"_dd1.sr.eausr",ERROR:"error",MANUAL_KEEP:"manual.keep",MANUAL_DROP:"manual.drop",MEASURED:"_dd.measured",HTTP_URL:"http.url",HTTP_METHOD:"http.method",HTTP_STATUS_CODE:"http.status_code",HTTP_ROUTE:"http.route",HTTP_REQUEST_HEADERS:"http.request.headers",HTTP_RESPONSE_HEADERS:"http.response.headers"};r.ANALYTICS_SAMPLE_RATE=r.ANALYTICS,t.exports=r},function(t,e,n){var r=n(7),o=n(63),i=n(28),a=n(22),u=n(46),c=n(4),s=n(64),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=a(t),e=u(e,!0),s)try{return f(t,e)}catch(t){}if(c(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(8);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(1),o=n(10);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(68),o=n(30),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports=!1},function(t,e,n){var r=n(32),o=n(1),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){var r=n(69),o=n(53).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(22),o=n(5),i=n(33),a=function(t){return function(e,n,a){var u,c=r(e),s=o(c.length),f=i(a,s);if(t&&n!=n){for(;s>f;)if((u=c[f++])!=u)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r={};r[n(3)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(27),o=n(130),i=n(39),a=n(24),u=n(37),c=n(10),s=n(18),f=n(3),l=n(49),p=n(23),h=n(83),y=h.IteratorPrototype,v=h.BUGGY_SAFARI_ITERATORS,d=f("iterator"),_=function(){return this};t.exports=function(t,e,n,f,h,g,b){o(n,e,f);var m,w,S,x=function(t){if(t===h&&A)return A;if(!v&&t in T)return T[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},E=e+" Iterator",O=!1,T=t.prototype,k=T[d]||T["@@iterator"]||h&&T[h],A=!v&&k||x(h),R="Array"==e&&T.entries||k;if(R&&(m=i(R.call(new t)),y!==Object.prototype&&m.next&&(l||i(m)===y||(a?a(m,y):"function"!=typeof m[d]&&c(m,d,_)),u(m,E,!0,!0),l&&(p[E]=_))),"values"==h&&k&&"values"!==k.name&&(O=!0,A=function(){return k.call(this)}),l&&!b||T[d]===A||c(T,d,A),p[e]=A,h)if(w={values:x("values"),keys:g?A:x("keys"),entries:x("entries")},b)for(S in w)(v||O||!(S in T))&&s(T,S,w[S]);else r({target:e,proto:!0,forced:v||O},w);return w}},function(t,e,n){var r=n(55),o=n(18),i=n(132);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){var r=n(1),o=n(2),i=n(79),a=n(0).NATIVE_ARRAY_BUFFER_VIEWS,u=r.ArrayBuffer,c=r.Int8Array;t.exports=!a||!o((function(){c(1)}))||!o((function(){new c(-1)}))||!i((function(t){new c,new c(null),new c(1.5),new c(t)}),!0)||o((function(){return 1!==new c(new u(2),1,void 0).length}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(25),o=n(94),i=n(60);e.tracer=null,e.spanContext=null,e.span=null,e.initialize=function(){e.tracer=new i.default,e.span=new r.default,e.spanContext=new o.default}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(95),o=n(59),i=n(25),a=function(){function t(){}return t.prototype.startSpan=function(t,e){if(void 0===e&&(e={}),e.childOf){var n=r.childOf(e.childOf);e.references?e.references.push(n):e.references=[n],delete e.childOf}return this._startSpan(t,e)},t.prototype.inject=function(t,e,n){return t instanceof i.default&&(t=t.context()),this._inject(t,e,n)},t.prototype.extract=function(t,e){return this._extract(t,e)},t.prototype._startSpan=function(t,e){return o.span},t.prototype._inject=function(t,e,n){},t.prototype._extract=function(t,e){return o.spanContext},t}();e.Tracer=a,e.default=a},function(t,e,n){"use strict";function r(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"active",value:function(){return this._active()||null}},{key:"activate",value:function(t,e){if("function"!=typeof e)return e;try{return this._activate(t,e)}catch(e){throw t&&"function"==typeof t.setTag&&t.setTag("error",e),e}}},{key:"bind",value:function(t,e){return t=this._bindEmitter(t,e),t=this._bindPromise(t,e),t=this._bindFn(t,e)}},{key:"unbind",value:function(t){return t=this._unbindFn(t),t=this._unbindPromise(t),t=this._unbindEmitter(t)}},{key:"_active",value:function(){return null}},{key:"_activate",value:function(t,e){return e()}},{key:"_bindFn",value:function(t,e){if("function"!=typeof t)return t;var n=this,r=this._spanOrActive(e),o=function(){var e=arguments,o=this;return n.activate(r,(function(){return t.apply(o,e)}))};return o._datadog_unbound=t,o}},{key:"_unbindFn",value:function(t){return"function"!=typeof t?t:t._datadog_unbound||t}},{key:"_bindEmitter",value:function(t,e){return this._isEmitter(t)?(l(t,"addListener",c,this,e),l(t,"prependListener",c,this,e),l(t,"on",c,this,e),l(t,"once",c,this,e),l(t,"prependOnceListener",c,this,e),l(t,"removeListener",s),l(t,"off",s),l(t,"removeAllListeners",f),t):t}},{key:"_unbindEmitter",value:function(t){return this._isEmitter(t)?(p(t,"addListener"),p(t,"prependListener"),p(t,"on"),p(t,"once"),p(t,"prependOnceListener"),t):t}},{key:"_bindPromise",value:function(t,e){return this._isPromise(t)?(l(t,"then",u,this,e),t):t}},{key:"_unbindPromise",value:function(t){return this._isPromise(t)?(t.then=t.then._datadog_unbound||t.then,t):t}},{key:"_spanOrActive",value:function(t){return void 0!==t?t:this.active()}},{key:"_isEmitter",value:function(t){return t&&"function"==typeof t.emit&&"function"==typeof t.on&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}},{key:"_isPromise",value:function(t){return t&&"function"==typeof t.then}}])&&i(e.prototype,n),r&&i(e,r),t}();function u(t,e,n){return function(r,o){for(var i=new Array(arguments.length),a=0,u=i.length;a<u;a++)i[a]=e.bind(arguments[a],n);return t.apply(this,i)}}function c(t,e,n){return function(r,o){if(!o||o._datadog_unbound||o.listener)return t.apply(this,arguments);var i=e.bind(o,e._spanOrActive(n));this._datadog_events=this._datadog_events||{},this._datadog_events[r]||(this._datadog_events[r]=new WeakMap);var a=this._datadog_events[r];return a.has(o)||a.set(o,[]),a.get(o).push(i),t.call(this,r,i)}}function s(t){return function(e,n){var o=this._datadog_events&&this._datadog_events[e];if(!n||!o||!o.has(n))return t.apply(this,arguments);var i,a=r(o.get(n));try{for(a.s();!(i=a.n()).done;){var u=i.value;t.call(this,e,u)}}catch(t){a.e(t)}finally{a.f()}return o.delete(n),t.call(this,e,n)}}function f(t){return function(e){return this._datadog_events&&(e?delete this._datadog_events[e]:delete this._datadog_events),t.call(this,e)}}function l(t,e,n){if(t[e]&&!t[e]._datadog_unbound){for(var r=t[e],o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];t[e]=n.apply(void 0,[t[e]].concat(i)),t[e]._datadog_unbound=r}}function p(t,e){t[e]&&t[e]._datadog_unbound&&(t[e]=t[e]._datadog_unbound)}t.exports=a},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(6).Span,i=n(213),a=null,u=new o,c=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a||(a=this),a}var e,n,o;return e=t,(n=[{key:"active",value:function(){return new i(u)}},{key:"activate",value:function(t,e){return new i(t,e)}}])&&r(e.prototype,n),o&&r(e,o),t}();t.exports=c},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(7),o=n(2),i=n(65);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(1),o=n(8),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(67),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(1),o=n(47),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(49),o=n(67);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(4),o=n(22),i=n(52).indexOf,a=n(31);t.exports=function(t,e){var n,u=o(t),c=0,s=[];for(n in u)!r(a,n)&&r(u,n)&&s.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~i(s,n)||s.push(n));return s}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(2),o=/#|\.prototype\./,i=function(t,e){var n=u[a(t)];return n==s||n!=c&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=i.data={},c=i.NATIVE="N",s=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(69),o=n(53);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){"use strict";var r=n(27),o=n(1),i=n(71),a=n(18),u=n(74),c=n(75),s=n(36),f=n(8),l=n(2),p=n(79),h=n(37),y=n(80);t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),d=-1!==t.indexOf("Weak"),_=v?"set":"add",g=o[t],b=g&&g.prototype,m=g,w={},S=function(t){var e=b[t];a(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(d&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return d&&!f(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(d&&!f(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(i(t,"function"!=typeof g||!(d||b.forEach&&!l((function(){(new g).entries().next()})))))m=n.getConstructor(e,t,v,_),u.REQUIRED=!0;else if(i(t,!0)){var x=new m,E=x[_](d?{}:-0,1)!=x,O=l((function(){x.has(1)})),T=p((function(t){new g(t)})),k=!d&&l((function(){for(var t=new g,e=5;e--;)t[_](e,e);return!t.has(-0)}));T||((m=e((function(e,n){s(e,m,t);var r=y(new g,e,m);return null!=n&&c(n,r[_],r,v),r}))).prototype=b,b.constructor=m),(O||k)&&(S("delete"),S("has"),v&&S("get")),(k||E)&&S(_),d&&b.clear&&delete b.clear}return w[t]=m,r({global:!0,forced:m!=g},w),h(m,t),d||n.setStrong(m,t,v),m}},function(t,e,n){var r=n(31),o=n(8),i=n(4),a=n(9).f,u=n(30),c=n(124),s=u("meta"),f=0,l=Object.isExtensible||function(){return!0},p=function(t){a(t,s,{value:{objectID:"O"+ ++f,weakData:{}}})},h=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,s)){if(!l(t))return"F";if(!e)return"E";p(t)}return t[s].objectID},getWeakData:function(t,e){if(!i(t,s)){if(!l(t))return!0;if(!e)return!1;p(t)}return t[s].weakData},onFreeze:function(t){return c&&h.REQUIRED&&l(t)&&!i(t,s)&&p(t),t}};r[s]=!0},function(t,e,n){var r=n(13),o=n(76),i=n(5),a=n(34),u=n(78),c=n(126),s=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,f,l){var p,h,y,v,d,_,g,b=a(e,n,f?2:1);if(l)p=t;else{if("function"!=typeof(h=u(t)))throw TypeError("Target is not iterable");if(o(h)){for(y=0,v=i(t.length);v>y;y++)if((d=f?b(r(g=t[y])[0],g[1]):b(t[y]))&&d instanceof s)return d;return new s(!1)}p=h.call(t)}for(_=p.next;!(g=_.call(p)).done;)if("object"==typeof(d=c(p,b,g.value,f))&&d&&d instanceof s)return d;return new s(!1)}).stop=function(t){return new s(!0,t)}},function(t,e,n){var r=n(3),o=n(23),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r=n(2);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(35),o=n(23),i=n(3)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(3)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r=n(8),o=n(24);t.exports=function(t,e,n){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(t,a),t}},function(t,e,n){"use strict";var r=n(9).f,o=n(38),i=n(82),a=n(34),u=n(36),c=n(75),s=n(56),f=n(84),l=n(7),p=n(74).fastKey,h=n(19),y=h.set,v=h.getterFor;t.exports={getConstructor:function(t,e,n,s){var f=t((function(t,r){u(t,f,e),y(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),l||(t.size=0),null!=r&&c(r,t[s],t,n)})),h=v(e),d=function(t,e,n){var r,o,i=h(t),a=_(t,e);return a?a.value=n:(i.last=a={index:o=p(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),l?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},_=function(t,e){var n,r=h(t),o=p(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(f.prototype,{clear:function(){for(var t=h(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,l?t.size=0:this.size=0},delete:function(t){var e=h(this),n=_(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),l?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=h(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!_(this,t)}}),i(f.prototype,n?{get:function(t){var e=_(this,t);return e&&e.value},set:function(t,e){return d(this,0===t?0:t,e)}}:{add:function(t){return d(this,t=0===t?0:t,t)}}),l&&r(f.prototype,"size",{get:function(){return h(this).size}}),f},setStrong:function(t,e,n){var r=e+" Iterator",o=v(e),i=v(r);s(t,e,(function(t,e){y(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),f(e)}}},function(t,e,n){var r=n(18);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){"use strict";var r,o,i,a=n(39),u=n(10),c=n(4),s=n(3),f=n(49),l=s("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(o=a(a(i)))!==Object.prototype&&(r=o):p=!0),null==r&&(r={}),f||c(r,l)||u(r,l,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){"use strict";var r=n(50),o=n(9),i=n(3),a=n(7),u=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[u]&&n(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(133).charAt,o=n(19),i=n(56),a=o.set,u=o.getterFor("String Iterator");i(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=u(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(1),o=n(134),i=n(87),a=n(10),u=n(3),c=u("iterator"),s=u("toStringTag"),f=i.values;for(var l in o){var p=r[l],h=p&&p.prototype;if(h){if(h[c]!==f)try{a(h,c,f)}catch(t){h[c]=f}if(h[s]||a(h,s,l),o[l])for(var y in i)if(h[y]!==i[y])try{a(h,y,i[y])}catch(t){h[y]=i[y]}}}},function(t,e,n){"use strict";var r=n(22),o=n(135),i=n(23),a=n(19),u=n(56),c=a.set,s=a.getterFor("Array Iterator");t.exports=u(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=s(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,n){var r=n(16),o=n(5);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){"use strict";var r=n(14),o=n(33),i=n(5);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,u=o(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,s=void 0===c?n:o(c,n);s>u;)e[u++]=t;return e}},function(t,e,n){var r=n(144);t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var r=n(14),o=n(5),i=n(78),a=n(76),u=n(34),c=n(0).aTypedArrayConstructor;t.exports=function(t){var e,n,s,f,l,p,h=r(t),y=arguments.length,v=y>1?arguments[1]:void 0,d=void 0!==v,_=i(h);if(null!=_&&!a(_))for(p=(l=_.call(h)).next,h=[];!(f=p.call(l)).done;)h.push(f.value);for(d&&y>2&&(v=u(v,arguments[2],2)),n=o(h.length),s=new(c(this))(n),e=0;n>e;e++)s[e]=d?v(h[e],e):h[e];return s}},function(t,e,n){var r=n(54),o=n(14),i=n(29),a=n(5),u=function(t){return function(e,n,u,c){r(n);var s=o(e),f=i(s),l=a(s.length),p=t?l-1:0,h=t?-1:1;if(u<2)for(;;){if(p in f){c=f[p],p+=h;break}if(p+=h,t?p<0:l<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:l>p;p+=h)p in f&&(c=n(c,f[p],p,s));return c}};t.exports={left:u(!1),right:u(!0)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(){}return t.prototype.toTraceId=function(){return""},t.prototype.toSpanId=function(){return""},t}();e.SpanContext=r,e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(96),o=n(97),i=n(25);e.childOf=function(t){return t instanceof i.default&&(t=t.context()),new o.default(r.REFERENCE_CHILD_OF,t)},e.followsFrom=function(t){return t instanceof i.default&&(t=t.context()),new o.default(r.REFERENCE_FOLLOWS_FROM,t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FORMAT_BINARY="binary",e.FORMAT_TEXT_MAP="text_map",e.FORMAT_HTTP_HEADERS="http_headers",e.REFERENCE_CHILD_OF="child_of",e.REFERENCE_FOLLOWS_FROM="follows_from"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(25),o=function(){function t(t,e){this._type=t,this._referencedContext=e instanceof r.default?e.context():e}return t.prototype.type=function(){return this._type},t.prototype.referencedContext=function(){return this._referencedContext},t}();e.default=o},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e){var n=t.call(this)||this;return n._span=e,n}return o(e,t),e.prototype.span=function(){return this._span},e}(n(6).SpanContext);e.MockContext=i,e.default=i},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(98),u=function(t){function e(e){var n=t.call(this)||this;return n._mockTracer=e,n._uuid=n._generateUUID(),n._startMs=Date.now(),n._finishMs=0,n._operationName="",n._tags={},n._logs=[],n}return o(e,t),e.prototype._context=function(){return new a.default(this)},e.prototype._setOperationName=function(t){this._operationName=t},e.prototype._addTags=function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this._tags[r]=t[r]}},e.prototype._log=function(t,e){this._logs.push({fields:t,timestamp:e})},e.prototype._finish=function(t){this._finishMs=t||Date.now()},e.prototype.uuid=function(){return this._uuid},e.prototype.operationName=function(){return this._operationName},e.prototype.durationMs=function(){return this._finishMs-this._startMs},e.prototype.tags=function(){return this._tags},e.prototype.tracer=function(){return this._mockTracer},e.prototype._generateUUID=function(){return""+("00000000"+Math.abs(4294967295*Math.random()|0).toString(16)).substr(-8)+("00000000"+Math.abs(4294967295*Math.random()|0).toString(16)).substr(-8)},e.prototype.addReference=function(t){},e.prototype.debug=function(){var t={uuid:this._uuid,operation:this._operationName,millis:[this._finishMs-this._startMs,this._startMs,this._finishMs]};return Object.keys(this._tags).length&&(t.tags=this._tags),t},e}(i.Span);e.MockSpan=u,e.default=u},function(t,e,n){"use strict";function r(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var i=n(202),a={isPeer:function(t,e){if(!t)return!1;var n,o=r(e);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(t===i)return!0;if(i instanceof RegExp&&i.test(t))return!0}}catch(t){o.e(t)}finally{o.f()}return!1}};t.exports=Object.assign({},i,a)},function(t,e,n){"use strict";var r=n(102),o=n(208),i=n(103),a=n(42),u=n(209),c=n(210);t.exports={formats:r,kinds:o,priority:i,tags:a,types:u,exporters:c}},function(t,e,n){"use strict";var r=n(6);t.exports={TEXT_MAP:r.FORMAT_TEXT_MAP,HTTP_HEADERS:r.FORMAT_HTTP_HEADERS,BINARY:r.FORMAT_BINARY,LOG:"log"}},function(t,e,n){"use strict";t.exports={USER_REJECT:-1,AUTO_REJECT:0,AUTO_KEEP:1,USER_KEEP:2}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=n(6).Span,l=n(105),p=n(21),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,t);var e,n,r,u=a(s);function s(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),n=u.call(this),Object.defineProperties(c(n),{_noopTracer:{value:t},_noopContext:{value:n._createContext(e)}}),n}return e=s,(n=[{key:"_context",value:function(){return this._noopContext}},{key:"_tracer",value:function(){return this._noopTracer}},{key:"_createContext",value:function(t){var e=p();return new l(t?{noop:this,traceId:t._traceId,spanId:e,parentId:t._spanId,baggageItems:t._baggageItems}:{noop:this,traceId:e,spanId:e})}}])&&o(e.prototype,n),r&&o(e,r),s}(f);t.exports=h},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var o=u(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(26),s=n(103).USER_REJECT,f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(n,t);var e=i(n);function n(t){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=e.call(this,t))._traceFlags.sampled=!1,r._sampling.priority=s,r}return n}(c);t.exports=f},function(t,e,n){"use strict";var r=n(62);t.exports=r},function(t,e,n){"use strict";var r=n(17);t.exports={add:function t(e,n){if(e&&n){if("string"==typeof n)return t(e,n.split(",").filter((function(t){return-1!==t.indexOf(":")})).reduce((function(t,e){var n=e.split(":"),r=n[0],o=n.slice(1).join(":");return t[r]=o,t}),{}));if(Array.isArray(n))return n.forEach((function(n){return t(e,n)}));try{Object.keys(n).forEach((function(t){e[t]=n[t]}))}catch(t){r.error(t)}}}}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._rate=e}var e,n,o;return e=t,(n=[{key:"rate",value:function(){return this._rate}},{key:"isSampled",value:function(){return 1===this._rate||Math.random()<this._rate}}])&&r(e.prototype,n),o&&r(e,o),t}();t.exports=o},function(t,e){var n=function(t,e,n,r){if(this.bucketSize=t,this.tokensPerInterval=e,"string"==typeof n)switch(n){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+n)}else this.interval=n;this.parentBucket=r,this.content=0,this.lastDrip=+new Date};n.prototype={bucketSize:1,tokensPerInterval:1,interval:1e3,parentBucket:null,content:0,lastDrip:0,removeTokens:function(t,e){var n=this;return this.bucketSize?t>this.bucketSize?(process.nextTick(e.bind(null,"Requested tokens "+t+" exceeds bucket size "+this.bucketSize,null)),!1):(this.drip(),t>this.content?r():this.parentBucket?this.parentBucket.removeTokens(t,(function(o,i){return o?e(o,null):t>n.content?r():(n.content-=t,void e(null,Math.min(i,n.content)))})):(this.content-=t,process.nextTick(e.bind(null,null,this.content)),!0)):(process.nextTick(e.bind(null,null,t,Number.POSITIVE_INFINITY)),!0);function r(){var r=Math.ceil((t-n.content)*(n.interval/n.tokensPerInterval));return setTimeout((function(){n.removeTokens(t,e)}),r),!1}},tryRemoveTokens:function(t){return!this.bucketSize||!(t>this.bucketSize)&&(this.drip(),!(t>this.content)&&(!(this.parentBucket&&!this.parentBucket.tryRemoveTokens(t))&&(this.content-=t,!0)))},drip:function(){if(this.tokensPerInterval){var t=+new Date,e=Math.max(t-this.lastDrip,0);this.lastDrip=t;var n=e*(this.tokensPerInterval/this.interval);this.content=Math.min(this.content+n,this.bucketSize)}else this.content=this.bucketSize}},t.exports=n},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(224),a=n(21),u=n(26),c=n(105),s=n(17),f="x-datadog-trace-id",l="x-datadog-parent-id",p="x-datadog-origin",h="x-datadog-sampling-priority",y="x-b3-traceid",v=/^([0-9a-f]{16}){1,2}$/i,d="x-b3-spanid",_=/^[0-9a-f]{16}$/i,g=/^(([0-9a-f]{16}){1,2}-[0-9a-f]{16}(-[01d](-[0-9a-f]{16})?)?|[01d])$/i,b=new RegExp("^".concat("ot-baggage-","(.+)$")),m=[f,l,h,p].concat([y,d,"x-b3-parentspanid","x-b3-sampled","x-b3-flags","b3"]),w=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e}var e,n,w;return e=t,(n=[{key:"inject",value:function(t,e){e[f]=t.toTraceId(),e[l]=t.toSpanId(),e["x-datadog-sampled"]=t._traceFlags.sampled?"1":"0",this._injectOrigin(t,e),this._injectSamplingPriority(t,e),this._injectBaggageItems(t,e),this._injectB3(t,e),s.debug((function(){return"Inject into carrier: ".concat(JSON.stringify(i(e,m)),".")}))}},{key:"extract",value:function(t){var e=this._extractSpanContext(t);return e?(this._extractOrigin(t,e),this._extractBaggageItems(t,e),this._extractSamplingPriority(t,e),s.debug((function(){return"Extract from carrier: ".concat(JSON.stringify(i(t,m)),".")})),e):e}},{key:"_injectOrigin",value:function(t,e){var n=t._trace.origin;n&&(e[p]=n)}},{key:"_injectSamplingPriority",value:function(t,e){var n=t._sampling.priority;Number.isInteger(n)&&(e[h]=n.toString())}},{key:"_injectBaggageItems",value:function(t,e){t._baggageItems&&Object.keys(t._baggageItems).forEach((function(n){e["ot-baggage-"+n]=String(t._baggageItems[n])}))}},{key:"_injectB3",value:function(t,e){this._config.experimental.b3&&(e[y]=t._traceId.toString("hex"),e[d]=t._spanId.toString("hex"),e["x-b3-sampled"]=t._traceFlags.sampled?"1":"0",t._traceFlags.debug&&(e["x-b3-flags"]="1"),t._parentId&&(e["x-b3-parentspanid"]=t._parentId.toString("hex")))}},{key:"_extractSpanContext",value:function(t){var e=this._extractContext(t);return e?!1!==e.traceFlags.sampled?new u(e):new c(e):null}},{key:"_extractContext",value:function(t){return this._extractDatadogContext(t)||this._extractB3Context(t)}},{key:"_extractDatadogContext",value:function(t){var e=this._isSampled(t["x-datadog-sampled"]);return this._extractGenericContext(t,f,l,{sampled:e},10)}},{key:"_extractB3Context",value:function(t){if(!this._config.experimental.b3)return null;var e=this._extractB3Headers(t),n="1"===e["x-b3-flags"],r=this._isSampled(e["x-b3-sampled"],n);return this._extractGenericContext(e,y,d,{sampled:r,debug:n})}},{key:"_extractGenericContext",value:function(t,e,n,r,o){return t[e]&&t[n]?{traceId:a(t[e],o),spanId:a(t[n],o),traceFlags:r}:"boolean"==typeof r.sampled?{traceId:a(),spanId:null,traceFlags:r}:null}},{key:"_extractB3Headers",value:function(t){return g.test(t.b3)?this._extractB3SingleHeader(t):this._extractB3MultipleHeaders(t)}},{key:"_extractB3MultipleHeaders",value:function(t){var e={};return v.test(t[y])&&_.test(t[d])&&(e[y]=t[y],e[d]=t[d]),t["x-b3-sampled"]&&(e["x-b3-sampled"]=t["x-b3-sampled"]),t["x-b3-flags"]&&(e["x-b3-flags"]=t["x-b3-flags"]),e}},{key:"_extractB3SingleHeader",value:function(t){var e,n=t.b3.split("-");if("d"===n[0])return r(e={},"x-b3-sampled","1"),r(e,"x-b3-flags","1"),e;if(1===n.length)return r({},"x-b3-sampled",n[0]);var o,i=(r(o={},y,n[0]),r(o,d,n[1]),r(o,"x-b3-sampled","0"!==n[2]?"1":"0"),o);return"d"===n[2]&&(i["x-b3-flags"]="1"),i}},{key:"_extractOrigin",value:function(t,e){var n=t[p];"string"==typeof t[p]&&(e._trace.origin=n)}},{key:"_extractBaggageItems",value:function(t,e){Object.keys(t).forEach((function(n){var r=n.match(b);r&&(e._baggageItems[r[1]]=t[n])}))}},{key:"_extractSamplingPriority",value:function(t,e){var n=parseInt(t[h],10);Number.isInteger(n)&&(e._sampling.priority=parseInt(t[h],10))}},{key:"_isSampled",value:function(t,e){return!(!e&&"1"!==t)||"0"!==t&&null}}])&&o(e.prototype,n),w&&o(e,w),t}();t.exports=w},function(t,e,n){"use strict";t.exports={ASYNC_LOCAL_STORAGE:"async_local_storage",ASYNC_HOOKS:"async_hooks",NOOP:"noop"}},function(t,e,n){"use strict";t.exports=n(113)},function(t,e,n){"use strict";n(114),n(121),n(136),n(139);var r=n(12),o=n(185),i=n(101);r.use(o);var a=new(n(211));t.exports=a,t.exports.default=t.exports,t.exports.tracer=t.exports,window.ddtrace={tracer:a,ext:i}},function(t,e,n){var r=n(115);t.exports=r},function(t,e,n){n(116);var r=n(32);t.exports=r.Object.assign},function(t,e,n){var r=n(27),o=n(120);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e,n){var r=n(1),o=n(66),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){var r=n(4),o=n(119),i=n(43),a=n(9);t.exports=function(t,e){for(var n=o(e),u=a.f,c=i.f,s=0;s<n.length;s++){var f=n[s];r(t,f)||u(t,f,c(e,f))}}},function(t,e,n){var r=n(50),o=n(51),i=n(70),a=n(13);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";var r=n(7),o=n(2),i=n(72),a=n(70),u=n(63),c=n(14),s=n(29),f=Object.assign,l=Object.defineProperty;t.exports=!f||o((function(){if(r&&1!==f({b:1},f(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=f({},t)[n]||"abcdefghijklmnopqrst"!=i(f({},e)).join("")}))?function(t,e){for(var n=c(t),o=arguments.length,f=1,l=a.f,p=u.f;o>f;)for(var h,y=s(arguments[f++]),v=l?i(y).concat(l(y)):i(y),d=v.length,_=0;d>_;)h=v[_++],r&&!p.call(y,h)||(n[h]=y[h]);return n}:f},function(t,e,n){var r=n(122);t.exports=r},function(t,e,n){n(123),n(57),n(85),n(86);var r=n(32);t.exports=r.Set},function(t,e,n){"use strict";var r=n(73),o=n(81);t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,n){var r=n(2);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var r=n(77);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(13);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(8);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r=n(7),o=n(9),i=n(13),a=n(72);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),u=r.length,c=0;u>c;)o.f(t,n=r[c++],e[n]);return t}},function(t,e,n){var r=n(50);t.exports=r("document","documentElement")},function(t,e,n){"use strict";var r=n(83).IteratorPrototype,o=n(38),i=n(28),a=n(37),u=n(23),c=function(){return this};t.exports=function(t,e,n){var s=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,s,!1,!0),u[s]=c,t}},function(t,e,n){var r=n(2);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){"use strict";var r=n(55),o=n(35);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){var r=n(16),o=n(45),i=function(t){return function(e,n){var i,a,u=String(o(e)),c=r(n),s=u.length;return c<0||c>=s?t?"":void 0:(i=u.charCodeAt(c))<55296||i>56319||c+1===s||(a=u.charCodeAt(c+1))<56320||a>57343?t?u.charAt(c):i:t?u.slice(c,c+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(3),o=n(38),i=n(9),a=r("unscopables"),u=Array.prototype;null==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),t.exports=function(t){u[a][t]=!0}},function(t,e,n){var r=n(137);t.exports=r},function(t,e,n){n(138),n(57),n(85),n(86);var r=n(32);t.exports=r.Map},function(t,e,n){"use strict";var r=n(73),o=n(81);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,n){var r=n(140);t.exports=r},function(t,e,n){n(141),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),t.exports=n(1)},function(t,e,n){n(11)("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";var r=n(1),o=n(7),i=n(88),a=n(10),u=n(82),c=n(2),s=n(36),f=n(16),l=n(5),p=n(89),h=n(143),y=n(39),v=n(24),d=n(51).f,_=n(9).f,g=n(90),b=n(37),m=n(19),w=m.get,S=m.set,x=r.ArrayBuffer,E=x,O=r.DataView,T=O&&O.prototype,k=Object.prototype,A=r.RangeError,R=h.pack,I=h.unpack,P=function(t){return[255&t]},j=function(t){return[255&t,t>>8&255]},M=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},C=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},D=function(t){return R(t,23,4)},N=function(t){return R(t,52,8)},L=function(t,e){_(t.prototype,e,{get:function(){return w(this)[e]}})},B=function(t,e,n,r){var o=p(n),i=w(t);if(o+e>i.byteLength)throw A("Wrong index");var a=w(i.buffer).bytes,u=o+i.byteOffset,c=a.slice(u,u+e);return r?c:c.reverse()},F=function(t,e,n,r,o,i){var a=p(n),u=w(t);if(a+e>u.byteLength)throw A("Wrong index");for(var c=w(u.buffer).bytes,s=a+u.byteOffset,f=r(+o),l=0;l<e;l++)c[s+l]=f[i?l:e-l-1]};if(i){if(!c((function(){x(1)}))||!c((function(){new x(-1)}))||c((function(){return new x,new x(1.5),new x(NaN),"ArrayBuffer"!=x.name}))){for(var U,G=(E=function(t){return s(this,E),new x(p(t))}).prototype=x.prototype,H=d(x),Y=0;H.length>Y;)(U=H[Y++])in E||a(E,U,x[U]);G.constructor=E}v&&y(T)!==k&&v(T,k);var z=new O(new E(2)),W=T.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||u(T,{setInt8:function(t,e){W.call(this,t,e<<24>>24)},setUint8:function(t,e){W.call(this,t,e<<24>>24)}},{unsafe:!0})}else E=function(t){s(this,E,"ArrayBuffer");var e=p(t);S(this,{bytes:g.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},O=function(t,e,n){s(this,O,"DataView"),s(t,E,"DataView");var r=w(t).byteLength,i=f(e);if(i<0||i>r)throw A("Wrong offset");if(i+(n=void 0===n?r-i:l(n))>r)throw A("Wrong length");S(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},o&&(L(E,"byteLength"),L(O,"buffer"),L(O,"byteLength"),L(O,"byteOffset")),u(O.prototype,{getInt8:function(t){return B(this,1,t)[0]<<24>>24},getUint8:function(t){return B(this,1,t)[0]},getInt16:function(t){var e=B(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=B(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return C(B(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return C(B(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return I(B(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return I(B(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){F(this,1,t,P,e)},setUint8:function(t,e){F(this,1,t,P,e)},setInt16:function(t,e){F(this,2,t,j,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){F(this,2,t,j,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){F(this,4,t,M,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){F(this,4,t,M,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){F(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){F(this,8,t,N,e,arguments.length>2?arguments[2]:void 0)}});b(E,"ArrayBuffer"),b(O,"DataView"),t.exports={ArrayBuffer:E,DataView:O}},function(t,e){var n=Math.abs,r=Math.pow,o=Math.floor,i=Math.log,a=Math.LN2;t.exports={pack:function(t,e,u){var c,s,f,l=new Array(u),p=8*u-e-1,h=(1<<p)-1,y=h>>1,v=23===e?r(2,-24)-r(2,-77):0,d=t<0||0===t&&1/t<0?1:0,_=0;for((t=n(t))!=t||t===1/0?(s=t!=t?1:0,c=h):(c=o(i(t)/a),t*(f=r(2,-c))<1&&(c--,f*=2),(t+=c+y>=1?v/f:v*r(2,1-y))*f>=2&&(c++,f/=2),c+y>=h?(s=0,c=h):c+y>=1?(s=(t*f-1)*r(2,e),c+=y):(s=t*r(2,y-1)*r(2,e),c=0));e>=8;l[_++]=255&s,s/=256,e-=8);for(c=c<<e|s,p+=e;p>0;l[_++]=255&c,c/=256,p-=8);return l[--_]|=128*d,l},unpack:function(t,e){var n,o=t.length,i=8*o-e-1,a=(1<<i)-1,u=a>>1,c=i-7,s=o-1,f=t[s--],l=127&f;for(f>>=7;c>0;l=256*l+t[s],s--,c-=8);for(n=l&(1<<-c)-1,l>>=-c,c+=e;c>0;n=256*n+t[s],s--,c-=8);if(0===l)l=1-u;else{if(l===a)return n?NaN:f?-1/0:1/0;n+=r(2,e),l-=u}return(f?-1:1)*n*r(2,l-e)}}},function(t,e,n){var r=n(16);t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,n){var r=n(8),o=n(146),i=n(3)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(44);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){n(11)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(11)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},function(t,e,n){n(11)("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(11)("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(11)("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(11)("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(11)("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(11)("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(156),n(157),n(158),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(57)},function(t,e,n){"use strict";var r=n(58);(0,n(0).exportTypedArrayStaticMethod)("from",n(92),r)},function(t,e,n){"use strict";var r=n(0),o=n(58),i=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(i(this))(e);e>t;)n[t]=arguments[t++];return n}),o)},function(t,e,n){"use strict";var r=n(0),o=n(159),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(t,e){return o.call(i(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,n){"use strict";var r=n(14),o=n(33),i=n(5),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),u=i(n.length),c=o(t,u),s=o(e,u),f=arguments.length>2?arguments[2]:void 0,l=a((void 0===f?u:o(f,u))-s,u-c),p=1;for(s<c&&c<s+l&&(p=-1,s+=l-1,c+=l-1);l-- >0;)s in n?n[c]=n[s]:delete n[c],c+=p,s+=p;return n}},function(t,e,n){"use strict";var r=n(0),o=n(15).every,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(0),o=n(90),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){return o.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(0),o=n(15).filter,i=n(40),a=r.aTypedArray,u=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",(function(t){for(var e=o(a(this),t,arguments.length>1?arguments[1]:void 0),n=i(this,this.constructor),r=0,c=e.length,s=new(u(n))(c);c>r;)s[r]=e[r++];return s}))},function(t,e,n){"use strict";var r=n(0),o=n(15).find,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(0),o=n(15).findIndex,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(0),o=n(15).forEach,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(0),o=n(52).includes,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(0),o=n(52).indexOf,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(0),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=[].join;i("join",(function(t){return a.apply(o(this),arguments)}))},function(t,e,n){"use strict";var r=n(0),o=n(170),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){return o.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(22),o=n(16),i=n(5),a=n(171),u=n(172),c=Math.min,s=[].lastIndexOf,f=!!s&&1/[1].lastIndexOf(1,-0)<0,l=a("lastIndexOf"),p=u("indexOf",{ACCESSORS:!0,1:0}),h=f||!l||!p;t.exports=h?function(t){if(f)return s.apply(this,arguments)||0;var e=r(this),n=i(e.length),a=n-1;for(arguments.length>1&&(a=c(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:s},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var r=n(7),o=n(2),i=n(4),a=Object.defineProperty,u={},c=function(t){throw t};t.exports=function(t,e){if(i(u,t))return u[t];e||(e={});var n=[][t],s=!!i(e,"ACCESSORS")&&e.ACCESSORS,f=i(e,0)?e[0]:c,l=i(e,1)?e[1]:void 0;return u[t]=!!n&&!o((function(){if(s&&!r)return!0;var t={length:-1};s?a(t,1,{enumerable:!0,get:c}):t[1]=1,n.call(t,f,l)}))}},function(t,e,n){"use strict";var r=n(0),o=n(15).map,i=n(40),a=r.aTypedArray,u=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(u(i(t,t.constructor)))(e)}))}))},function(t,e,n){"use strict";var r=n(0),o=n(93).left,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(0),o=n(93).right,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(0),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){for(var t,e=o(this).length,n=a(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}))},function(t,e,n){"use strict";var r=n(0),o=n(5),i=n(91),a=n(14),u=n(2),c=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(t){c(this);var e=i(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(t),u=o(r.length),s=0;if(u+e>n)throw RangeError("Wrong length");for(;s<u;)this[e+s]=r[s++]}),u((function(){new Int8Array(1).set({})})))},function(t,e,n){"use strict";var r=n(0),o=n(40),i=n(2),a=r.aTypedArray,u=r.aTypedArrayConstructor,c=r.exportTypedArrayMethod,s=[].slice;c("slice",(function(t,e){for(var n=s.call(a(this),t,e),r=o(this,this.constructor),i=0,c=n.length,f=new(u(r))(c);c>i;)f[i]=n[i++];return f}),i((function(){new Int8Array(1).slice()})))},function(t,e,n){"use strict";var r=n(0),o=n(15).some,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(0),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=[].sort;i("sort",(function(t){return a.call(o(this),t)}))},function(t,e,n){"use strict";var r=n(0),o=n(5),i=n(33),a=n(40),u=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=u(this),r=n.length,c=i(t,r);return new(a(n,n.constructor))(n.buffer,n.byteOffset+c*n.BYTES_PER_ELEMENT,o((void 0===e?r:i(e,r))-c))}))},function(t,e,n){"use strict";var r=n(1),o=n(0),i=n(2),a=r.Int8Array,u=o.aTypedArray,c=o.exportTypedArrayMethod,s=[].toLocaleString,f=[].slice,l=!!a&&i((function(){s.call(new a(1))}));c("toLocaleString",(function(){return s.apply(l?f.call(u(this)):u(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!i((function(){a.prototype.toLocaleString.call([1,2])})))},function(t,e,n){"use strict";var r=n(0).exportTypedArrayMethod,o=n(2),i=n(1).Uint8Array,a=i&&i.prototype||{},u=[].toString,c=[].join;o((function(){u.call({})}))&&(u=function(){return c.call(this)});var s=a.toString!=u;r("toString",u,s)},function(t,e,n){"use strict";var r=n(1),o=n(0),i=n(87),a=n(3)("iterator"),u=r.Uint8Array,c=i.values,s=i.keys,f=i.entries,l=o.aTypedArray,p=o.exportTypedArrayMethod,h=u&&u.prototype[a],y=!!h&&("values"==h.name||null==h.name),v=function(){return c.call(l(this))};p("entries",(function(){return f.call(l(this))})),p("keys",(function(){return s.call(l(this))})),p("values",v,!y),p(a,v,!y)},function(t,e,n){"use strict";var r=n(186),o=n(187),i=n(188),a=n(189),u=n(190),c=n(191),s=n(192),f=n(204),l=n(206),p=n(207),h={_config:{},name:function(){},version:function(){},engine:function(){},crypto:r,now:o,env:i,tags:a,validate:u,service:function(){return"browser"},appVersion:function(){return null},metrics:c,plugins:s,hostname:function(){},on:function(){},off:function(){},Loader:l,getScope:function(){return p},exporter:f};t.exports=h},function(t,e,n){"use strict";t.exports=window.crypto||window.msCrypto},function(t,e,n){"use strict";var r=function(){return window.performance.now()},o=r(),i=Date.now();t.exports=function(){return i+r()-o}},function(t,e,n){"use strict";t.exports=function(t){return window[t]}},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=function(){var t=window.DD_RUM;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t&&t.getInternalContext&&t.getInternalContext())}},function(t,e,n){"use strict";t.exports=function(){}},function(t,e,n){"use strict";var r=null;t.exports=function(){return r||(r={start:function(){},stop:function(){},track:function(){return{finish:function(){}}},boolean:function(){},histogram:function(){},count:function(){},gauge:function(){},increment:function(){},decrement:function(){}})}},function(t,e,n){"use strict";t.exports={fetch:n(193),xmlhttprequest:n(203)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(41),i=n(6),a=i.Reference,u=i.REFERENCE_CHILD_OF,c=n(20).REFERENCE_NOOP,s=n(100);function f(t,e){return function(n){return n._datadog_wrapper=function(i,f){var l=e.service||"".concat(t._service,"-http-client"),p=function(t,e){return e&&e.method?e.method:t&&t.method?t.method:"GET"}(i,f),h=function(t){var e="object"===r(t)?t.url:t;return new o(e,window.location.origin)}(i),y=t.scope().active(),v=function(t,e){return new RegExp("^".concat(t,"/v1/input/[a-z0-9]+$"),"i").test(e.href)||e.href.startsWith("https://rum-http-intake.logs.datadoghq.com")||e.href.startsWith("https://browser-http-intake.logs.datadoghq.com")}(t._url.href,h)?c:u,d=t.startSpan("browser.request",{references:[new a(v,y)],tags:{"span.kind":"client","service.name":l,"resource.name":p,"span.type":"http","http.method":p,"http.url":h.href}});d.setTag("_top_level",1),v===u&&(f=function(t,e,n,r){var o=window.ddtrace.ext.formats.HTTP_HEADERS,i=e._peers;if(r!==window.location.origin&&!s.isPeer(r,i))return t;if((t=t||{}).headers=t.headers||{},"function"==typeof t.headers.set){var a={};for(var u in e.inject(n,o,a),a)t.headers.set(u,a[u])}else e.inject(n,o,t.headers);return t}(f,t,d,h.origin));var _=t.scope().bind(n,d).call(this,i,f);return _.then((function(t){d.setTag("http.status_code",t.status)})),s.wrap(d,_),_},function(){return n._datadog_wrapper.apply(this,arguments)}}}t.exports={name:"fetch",patch:function(t,e,n){return f(e,n)(t)},unpatch:function(t){!function(t){t._datadog_wrapper=t}(t)}}},function(t,e,n){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}e.stringify=function(t,e){e=e||"";var n,o,i=[];for(o in"string"!=typeof e&&(e="?"),t)if(r.call(t,o)){if((n=t[o])||null!=n&&!isNaN(n)||(n=""),o=encodeURIComponent(o),n=encodeURIComponent(n),null===o||null===n)continue;i.push(o+"="+n)}return i.length?e+i.join("&"):""},e.parse=function(t){for(var e,n=/([^=?&]+)=?([^&]*)/g,r={};e=n.exec(t);){var i=o(e[1]),a=o(e[2]);null===i||null===a||i in r||(r[i]=a)}return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){this.buffer=t};e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SPAN_KIND="span.kind",e.SPAN_KIND_RPC_CLIENT="client",e.SPAN_KIND_RPC_SERVER="server",e.SPAN_KIND_MESSAGING_PRODUCER="producer",e.SPAN_KIND_MESSAGING_CONSUMER="consumer",e.ERROR="error",e.COMPONENT="component",e.SAMPLING_PRIORITY="sampling.priority",e.PEER_SERVICE="peer.service",e.PEER_HOSTNAME="peer.hostname",e.PEER_ADDRESS="peer.address",e.PEER_HOST_IPV4="peer.ipv4",e.PEER_HOST_IPV6="peer.ipv6",e.PEER_PORT="peer.port",e.HTTP_URL="http.url",e.HTTP_METHOD="http.method",e.HTTP_STATUS_CODE="http.status_code",e.MESSAGE_BUS_DESTINATION="message_bus.destination",e.DB_INSTANCE="db.instance",e.DB_STATEMENT="db.statement",e.DB_TYPE="db.type",e.DB_USER="db.user"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(98);e.MockContext=r.default;var o=n(99);e.MockSpan=o.default;var i=n(199);e.MockTracer=i.default},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(6),a=n(200),u=n(99),c=function(t){function e(){var e=t.call(this)||this;return e._spans=[],e}return o(e,t),e.prototype._startSpan=function(t,e){var n=this._allocSpan();if(n.setOperationName(t),this._spans.push(n),e.references)for(var r=0,o=e.references;r<o.length;r++){var i=o[r];n.addReference(i)}return n._startStack=(new Error).stack,n},e.prototype._inject=function(t,e,n){throw new Error("NOT YET IMPLEMENTED")},e.prototype._extract=function(t,e){throw new Error("NOT YET IMPLEMENTED")},e.prototype._allocSpan=function(){return new u.default(this)},e.prototype.clear=function(){this._spans=[]},e.prototype.report=function(){return new a.default(this._spans)},e}(i.Tracer);e.MockTracer=c,e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){var e=this;this.spans=t,this.spansByUUID={},this.spansByTag={},this.debugSpans=[],this.unfinishedSpans=[],t.forEach((function(t){0===t._finishMs&&e.unfinishedSpans.push(t),e.spansByUUID[t.uuid()]=t,e.debugSpans.push(t.debug());var n=t.tags();Object.keys(n).forEach((function(r){var o=n[r];e.spansByTag[r]=e.spansByTag[r]||{},e.spansByTag[r][o]=e.spansByTag[r][o]||[],e.spansByTag[r][o].push(t)}))}))}return t.prototype.firstSpanWithTagValue=function(t,e){var n=this.spansByTag[t];if(!n)return null;var r=n[e];return r?r[0]:null},t}();e.MockReport=r,e.default=r},function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(60),a=new i.default,u=null,c=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.startSpan=function(){var t=u||a;return t.startSpan.apply(t,arguments)},e.prototype.inject=function(){var t=u||a;return t.inject.apply(t,arguments)},e.prototype.extract=function(){var t=u||a;return t.extract.apply(t,arguments)},e}(i.default));e.initGlobalTracer=function(t){u=t},e.globalTracer=function(){return c}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o={setHost:function(t,e,n){e&&t.setTag("out.host",e),n&&t.setTag("out.port",n)},wrap:function(t,e){return"function"!=typeof e&&e?function(t){return"object"===r(t)&&null!==t}(n=e)&&"function"==typeof n.then?function(t,e){return e.then((function(){return i(t)}),(function(e){return i(t,e)})),e}(t,e):void 0:function(t,e){var n=t.tracer().scope(),r=n.active();return function(o){var a=arguments,u=this;if(i(t,o),e)return n.activate(r,(function(){return e.apply(u,a)}))}}(t,e);var n}};function i(t,e){e&&t.addTags({"error.type":e.name,"error.msg":e.message,"error.stack":e.stack}),t.finish()}t.exports=o},function(t,e,n){"use strict";var r=n(41),o=n(6),i=o.Reference,a=o.REFERENCE_CHILD_OF,u=n(20).REFERENCE_NOOP,c=n(100);function s(t,e,n){var r=window.ddtrace.ext.formats.HTTP_HEADERS,o={},i=t._datadog_url.origin,a=e._peers;if(i===window.location.origin||c.isPeer(i,a))for(var u in e.inject(n,r,o),o)t.setRequestHeader(u,o[u])}function f(t,e){return new RegExp("^".concat(t,"/v1/input/[a-z0-9]+$"),"i").test(e.href)||e.href.startsWith("https://rum-http-intake.logs.datadoghq.com")||e.href.startsWith("https://browser-http-intake.logs.datadoghq.com")}t.exports={name:"XMLHttpRequest",patch:function(t,e,n){this.wrap(t.prototype,"open",(function(t){return function(e,n){return this._datadog_method=e,this._datadog_url=new r(n,window.location.origin),t.apply(this,arguments)}})),this.wrap(t.prototype,"send",function(t,e){return function(n){return function(r){var o=this,c=e.service||"".concat(t._service,"-http-client"),l=this._datadog_method,p=this._datadog_url,h=t.scope(),y=h.active(),v=f(t._url.href,p)?u:a,d=t.startSpan("browser.request",{references:[new i(v,y)],tags:{"span.kind":"client","service.name":c,"resource.name":l,"span.type":"http","http.method":l,"http.url":p.href}});d.setTag("_top_level",1),v===a&&s(this,t,d),this.addEventListener("error",(function(t){return d.setTag("error",t)})),this.addEventListener("load",(function(){return d.setTag("http.status",o.status)})),this.addEventListener("loadend",(function(){return d.finish()}));try{return t.scope().bind(n,d).apply(this,arguments)}catch(t){throw d.setTag("error",t),d.finish(),t}}}}(e,n))},unpatch:function(t){this.unwrap(t.prototype,"open"),this.unwrap(t.prototype,"send")}}},function(t,e,n){"use strict";var r=n(205);t.exports=function(){return r}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(41),i=function(){function t(e){var n=this,r=e.clientToken,i=e.url,a=e.site,u=e.env;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._queue=[],this._flushing=!1,this._clientToken=r,this._env=u,this._url=i||new o("https://public-trace-http-intake.logs.".concat(a)),this._size=0,window.addEventListener("beforeunload",(function(){return n._flush()})),window.addEventListener("visibilitychange",(function(){return n._flush()}))}var e,n,i;return e=t,(n=[{key:"export",value:function(t){var e=this._traceMeta(),n=JSON.stringify({spans:t,meta:e}),r=n.length+(this._queue.length>0?"\r\n".length:0);if(this._size+r>65536){if(this._flushing)return;if(r>65536)return;this._flush()}this._size+=r,this._queue.push(n)}},{key:"_flush",value:function(){var t=this;if(0!==this._queue.length){this._flushing=!0;var e="".concat(this._url.href,"/v1/input/").concat(this._clientToken),n=this._queue.join("\r\n");this._queue=[],this._size=0,function(t,e,n){if(window.navigator&&window.navigator.sendBeacon)window.navigator.sendBeacon(t,e);else if(window.fetch)window.fetch(t,{body:e,method:"POST",keepalive:!0,mode:"no-cors"}).then(n,n);else{var r=new XMLHttpRequest;r.open("POST",t,!0),r.addEventListener("loadend",n),r.send(e)}}(e,n,(function(){t._flushing=!1}))}}},{key:"_traceMeta",value:function(){var t={"_dd.source":"browser"};return function(t,e,n){n&&(t[e]=n)}(t,"env",this._env),t}}])&&r(e.prototype,n),i&&r(e,i),t}();t.exports=i},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._instrumenter=e}var e,n,o;return e=t,(n=[{key:"reload",value:function(t){var e=this;t.forEach((function(t,n){e._instrumenter.unload(n),e._instrumenter.load(n,t)}))}},{key:"load",value:function(t,e){var n=window[t.name],r=this._instrumenter.patch(t,n,e);window[t.name]=r||n}}])&&r(e.prototype,n),o&&r(e,o),t}();t.exports=o},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=n(61),l=window.Zone,p=null,h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(f,t);var e,n,r,s=a(f);function f(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),p?u(t,p):(t=s.call(this),p=c(t),t)}return e=f,(n=[{key:"_active",value:function(){return l?l.current.get("_datadog_span"):null}},{key:"_activate",value:function(t,e){if(!l)return e();var n={properties:{_datadog_span:t}};return l.current.fork(n).run((function(){return e()}))}}])&&o(e.prototype,n),r&&o(e,r),f}(f);t.exports=h},function(t,e,n){"use strict";t.exports={SERVER:"server",CLIENT:"client",PRODUCER:"producer",CONSUMER:"consumer"}},function(t,e,n){"use strict";t.exports={HTTP:"http",WEB:"web"}},function(t,e,n){"use strict";t.exports={LOG:"log",BROWSER:"browser",AGENT:"agent"}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=n(6).Tracer,l=n(212),p=n(214),h=n(228),y=n(230),v=n(12),d=n(17),_=n(232),g=new l,b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,t);var e,n,r,u=a(s);function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=u.call(this))._tracer=g,t._instrumenter=new y(c(t)),t._deprecate=function(t){return d.deprecate("tracer.".concat(t),["tracer.".concat(t,"() is deprecated."),"Please use tracer.startSpan() and tracer.scope() instead.","See: https://datadog.github.io/dd-trace-js/#manual-instrumentation."].join(" "))},t}return e=s,(n=[{key:"init",value:function(t){if(this._tracer===g)try{var e=new h(t);e.enabled&&(v.validate(),v.configure(e),e.runtimeMetrics&&v.metrics().start(),e.analytics&&_.enable(),this._tracer=new p(e),this._instrumenter.enable(e))}catch(t){d.error(t)}return this}},{key:"use",value:function(){return this._instrumenter.use.apply(this._instrumenter,arguments),this}},{key:"trace",value:function(t,e,n){if(n||(n=e,e={}),"function"==typeof n)return e=e||{},this._tracer.trace(t,e,n)}},{key:"wrap",value:function(t,e,n){return n||(n=e,e={}),"function"!=typeof n?n:(e=e||{},this._tracer.wrap(t,e,n))}},{key:"startSpan",value:function(){return this._tracer.startSpan.apply(this._tracer,arguments)}},{key:"inject",value:function(){return this._tracer.inject.apply(this._tracer,arguments)}},{key:"extract",value:function(){return this._tracer.extract.apply(this._tracer,arguments)}},{key:"scopeManager",value:function(){return this._deprecate("scopeManager"),this._tracer.scopeManager.apply(this._tracer,arguments)}},{key:"scope",value:function(){return this._tracer.scope.apply(this._tracer,arguments)}},{key:"currentSpan",value:function(){return this._deprecate("currentSpan"),this._tracer.currentSpan.apply(this._tracer,arguments)}},{key:"bind",value:function(t){return this._deprecate("bind"),t}},{key:"bindEmitter",value:function(){this._deprecate("bindEmitter")}}])&&o(e.prototype,n),r&&o(e,r),s}(f);t.exports=b},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=n(6).Tracer,l=n(61),p=n(104),h=n(12),y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(f,t);var e,r,u,s=a(f);function f(t){var e,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),e=s.call(this,t),r="false"===h.env("DD_CONTEXT_PROPAGATION")?n(62):n(106),e._scopeManager=new r,e._scope=new l(t),e._span=new p(c(e)),e}return e=f,(r=[{key:"trace",value:function(t,e,n){return n(this._span,(function(){}))}},{key:"wrap",value:function(t,e,n){return n}},{key:"scopeManager",value:function(){return this._scopeManager}},{key:"scope",value:function(){return this._scope}},{key:"currentSpan",value:function(){return null}},{key:"_startSpan",value:function(t,e){return this._span}}])&&o(e.prototype,r),u&&o(e,u),f}(f);t.exports=y},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._span=e,this._finishSpanOnClose=n,this.close()}var e,n,o;return e=t,(n=[{key:"span",value:function(){return this._span}},{key:"close",value:function(){this._finishSpanOnClose&&this._span.finish()}}])&&r(e.prototype,n),o&&r(e,o),t}();t.exports=o},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=n(215),f=n(42),l=n(111),p=n(12),h=f.SPAN_TYPE,y=f.RESOURCE_NAME,v=f.SERVICE_NAME,d=f.ANALYTICS,_=l.NOOP,g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,t);var e,r,u,c=a(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=c.call(this,t))._scopeManager=function(t){var e;e=t.scope===_?n(62):n(106);return new e}(t),e._scope=function(t){var e;e=t.scope===_?n(61):p.getScope(t.scope);return new e(t)}(t),e}return e=s,(r=[{key:"trace",value:function(t,e,n){if(!(e=Object.assign({},{childOf:this.scope().active()},e)).childOf&&!1===e.orphanable)return n(null,(function(){}));var r=this.startSpan(t,e);!function(t,e){var n={};e.type&&(n[h]=e.type),e.service&&(n[v]=e.service),e.resource&&(n[y]=e.resource),n[d]=e.analytics,t.addTags(n)}(r,e);try{if(n.length>1)return this.scope().activate(r,(function(){return n(r,(function(t){b(r,t),r.finish()}))}));var o=this.scope().activate(r,(function(){return n(r)}));return o&&"function"==typeof o.then?o.then((function(){return r.finish()}),(function(t){b(r,t),r.finish()})):r.finish(),o}catch(t){throw b(r,t),r.finish(),t}}},{key:"wrap",value:function(t,e,n){var r=this;return function(){var o=arguments,i=this;if("function"==typeof e&&"function"==typeof n&&(e=e.apply(this,arguments)),!1===e.orphanable&&!r.scope().active())return n.apply(this,arguments);var a=arguments.length-1,u=arguments[a];if("function"==typeof u){var c=r.scope().bind(u);return r.trace(t,e,(function(t,e){return o[a]=function(t){return e(t),c.apply(this,arguments)},n.apply(i,o)}))}return r.trace(t,e,(function(){return n.apply(i,o)}))}}},{key:"scopeManager",value:function(){return this._scopeManager}},{key:"scope",value:function(){return this._scope}},{key:"currentSpan",value:function(){return this.scope().active()}}])&&o(e.prototype,r),u&&o(e,u),s}(s);function b(t,e){e&&e instanceof Error&&t.addTags({"error.type":e.name,"error.msg":e.message,"error.stack":e.stack})}t.exports=g},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=n(6),l=f.Tracer,p=f.Reference,h=n(216),y=n(26),v=n(217),d=n(108),_=n(219),g=n(110),b=n(225),m=n(226),w=n(227),S=n(104),x=n(102),E=n(17),O=n(20),T=n(12),k=O.REFERENCE_NOOP,A=f.REFERENCE_CHILD_OF,R=f.REFERENCE_FOLLOWS_FROM,I=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(s,t);var e,n,r,c=u(s);function s(t){var e,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),n=c.call(this),E.use(t.logger),E.toggle(t.debug,t.logLevel);var r=T.exporter(t.experimental.exporter);return n._service=t.service,n._version=t.version,n._env=t.env,n._tags=t.tags,n._logInjection=t.logInjection,n._analytics=t.analytics,n._prioritySampler=new _(t.env,t.experimental.sampler),n._exporter=new r(t,n._prioritySampler),n._processor=new v(n._exporter,n._prioritySampler),n._url=n._exporter._url,n._sampler=new d(t.sampleRate),n._peers=t.experimental.peers,n._propagators=(o(e={},x.TEXT_MAP,new g(t)),o(e,x.HTTP_HEADERS,new b(t)),o(e,x.BINARY,new m),o(e,x.LOG,new w),e),t.reportHostname&&(n._hostname=T.hostname()),n}return e=s,(n=[{key:"_startSpan",value:function(t,e){var n=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],o=r.type();if(o===A||o===k){e=r;break}o===R&&(e||(e=r))}return e}(function(t){return t?t.filter((function(t){if(!(t instanceof p))return E.error((function(){return"Expected ".concat(t," to be an instance of opentracing.Reference")})),!1;var e=t.referencedContext();return t.type()===k||!e||e instanceof y||(E.error((function(){return"Expected ".concat(e," to be an instance of SpanContext")})),!1)})):[]}(e.references)),r=n&&n.type(),o=n&&n.referencedContext();if(o&&o._noop)return o._noop;if(!function(t,e,n){return!(n===k||e&&!e._traceFlags.sampled||!e&&!t.isSampled())}(this._sampler,o,r))return new S(this,o);var i={"service.name":this._service},a=new h(this,this._processor,this._sampler,this._prioritySampler,{operationName:e.operationName||t,parent:o,tags:i,startTime:e.startTime,hostname:this._hostname});return a.addTags(this._tags),a.addTags(e.tags),a.addTags(T.tags()),a}},{key:"_inject",value:function(t,e,n){try{this._prioritySampler.sample(t),this._propagators[e].inject(t,n)}catch(t){E.error(t),T.metrics().increment("datadog.tracer.node.inject.errors",!0)}return this}},{key:"_extract",value:function(t,e){try{return this._propagators[t].extract(e)}catch(t){return E.error(t),T.metrics().increment("datadog.tracer.node.extract.errors",!0),null}}}])&&i(e.prototype,n),r&&i(e,r),s}(l);t.exports=I},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=n(6).Span,l=n(26),p=n(12),h=n(20),y=n(21),v=n(107),d=h.SAMPLE_RATE_METRIC_KEY,_=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,t);var e,n,r,u=a(s);function s(t,e,n,r,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),i=u.call(this);var a,f,l,h=o.startTime||p.now(),y=o.operationName,v=o.parent||null,_=Object.assign((a={},f=d,l=n.rate(),f in a?Object.defineProperty(a,f,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[f]=l,a),o.tags),g=o.hostname;return i._parentTracer=t,i._sampler=n,i._processor=e,i._prioritySampler=r,i._startTime=h,i._spanContext=i._createContext(v),i._spanContext._name=y,i._spanContext._tags=_,i._spanContext._hostname=g,i._handle=p.metrics().track(c(i)),i}return e=s,(n=[{key:"toString",value:function(){var t=this.context(),e=t._tags["resource.name"],n=e.length>100?"".concat(e.substring(0,97),"..."):e,r=JSON.stringify({traceId:t._traceId,spanId:t._spanId,parentId:t._parentId,service:t._tags["service.name"],name:t._name,resource:n});return"Span".concat(r)}},{key:"_createContext",value:function(t){var e;if(t)e=new l({traceId:t._traceId,spanId:y(),parentId:t._spanId,sampling:t._sampling,baggageItems:t._baggageItems,trace:t._trace});else{var n=y();e=new l({traceId:n,spanId:n})}return e._trace.started.push(this),e}},{key:"_context",value:function(){return this._spanContext}},{key:"_tracer",value:function(){return this._parentTracer}},{key:"_setOperationName",value:function(t){this._spanContext._name=t}},{key:"_setBaggageItem",value:function(t,e){this._spanContext._baggageItems[t]=e}},{key:"_getBaggageItem",value:function(t){return this._spanContext._baggageItems[t]}},{key:"_addTags",value:function(t){v.add(this._spanContext._tags,t)}},{key:"_finish",value:function(t){void 0===this._duration&&(t=parseFloat(t)||p.now(),this._duration=t-this._startTime,this._spanContext._trace.finished.push(this),this._spanContext._isFinished=!0,this._handle.finish(),this._processor.process(this))}}])&&o(e.prototype,n),r&&o(e,r),s}(f);t.exports=_},function(t,e,n){function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(17),i=n(218),a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._exporter=e,this._prioritySampler=n}var e,n,a;return e=t,(n=[{key:"process",value:function(t){var e=t.context(),n=e._trace;if(n.started.length===n.finished.length){if(this._prioritySampler.sample(e),!1===e._traceFlags.sampled)return o.debug((function(){return"Dropping trace due to user configured filtering: ".concat(n)})),void this._erase(n);var r=n.finished.map(i);this._exporter.export(r),this._erase(n)}}},{key:"_erase",value:function(t){t.finished.forEach((function(t){t.context()._tags={}})),t.started=[],t.finished=[]}}])&&r(e.prototype,n),a&&r(e,a),t}();t.exports=a},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(20),i=n(42),a=n(17),u=n(21),c=o.SAMPLING_PRIORITY_KEY,s=o.ANALYTICS_KEY,f=i.ANALYTICS,l=i.MEASURED,p=o.ORIGIN_KEY,h=o.HOSTNAME_KEY,y={"service.name":"service","span.type":"type","resource.name":"resource"};function v(t,e,n,o,i){switch(r(o)){case"string":t[n]=o;break;case"number":if(isNaN(o))break;e[n]=o;break;case"undefined":break;case"object":if(null===o)break;if((a=o).constructor&&"Buffer"===a.constructor.name&&"function"==typeof a.readInt8&&"function"==typeof a.toString||function(t){return t.constructor&&"URL"===t.constructor.name&&"string"==typeof t.href&&"function"==typeof t.toString}(o)){e[n]=o.toString();break}if(!Array.isArray(o)){!function(t,e,n,r,o){if(~(o=o||[]).indexOf(r))return void(t[n]="[Circular]");for(var i in o.push(r),r)v(t,e,"".concat(n,".").concat(i),r[i],o);o.pop()}(t,e,n,o,i);break}default:v(t,e,n,d(o))}var a}function d(t){try{return t&&"function"!=typeof t.toString?JSON.stringify(t):String(t)}catch(t){a.error(t)}}t.exports=function(t){var e=function(t){var e=t.context();return{trace_id:e._traceId,span_id:e._spanId,parent_id:e._parentId||u("0"),name:d(e._name),resource:d(e._name),error:0,meta:{},metrics:{},start:Math.round(1e6*t._startTime),duration:Math.round(1e6*t._duration)}}(t);return function(t,e){var n=e.context()._tags.error;n instanceof Error&&(t.meta["error.msg"]=n.message,t.meta["error.type"]=n.name,t.meta["error.stack"]=n.stack)}(e,t),function(t,e){var n=e.context(),r=n._trace.origin,o=n._tags,i=n._hostname,a=n._sampling.priority;for(var u in o)switch(u){case"service.name":case"span.type":case"resource.name":v(t,{},y[u],o[u]);break;case"http.status_code":v(t.meta,{},u,o[u]&&String(o[u]));break;case h:case f:break;case l:v({},t.metrics,u,void 0===o[u]||o[u]?1:0);break;case"error":o[u]&&"internal"!==o["span.kind"]&&(t.error=1);break;case"error.type":case"error.msg":case"error.stack":"internal"!==o["span.kind"]&&(t.error=1);default:v(t.meta,t.metrics,u,o[u])}e.tracer()._service===o["service.name"]&&v(t.meta,t.metrics,"language","javascript");v(t.meta,t.metrics,c,a),v(t.meta,t.metrics,p,r),v(t.meta,t.metrics,h,i)}(e,t),function(t,e){var n=e.context()._tags[f];n=!0===n?1:parseFloat(n);isNaN(n)||(t.metrics[s]=Math.max(Math.min(n,1),0))}(e,t),e}},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=n(220),s=n(108),f=n(101),l=n(20),p=l.SAMPLING_RULE_DECISION,h=l.SAMPLING_LIMIT_DECISION,y=l.SAMPLING_AGENT_DECISION,v=f.tags.SERVICE_NAME,d=f.tags.SAMPLING_PRIORITY,_=f.tags.MANUAL_KEEP,g=f.tags.MANUAL_DROP,b=f.priority.USER_REJECT,m=f.priority.AUTO_REJECT,w=f.priority.AUTO_KEEP,S=f.priority.USER_KEEP,x=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.sampleRate,o=n.rateLimit,i=void 0===o?100:o,u=n.rules,s=void 0===u?[]:u;a(this,t),this._env=e,this._rules=this._normalizeRules(s,r),this._limiter=new c(i),this.update({})}var e,n,r;return e=t,(n=[{key:"isSampled",value:function(t){var e=this._getContext(t),n=this._findRule(e);return n?this._isSampledByRule(e,n)&&this._isSampledByRateLimit(e):this._isSampledByAgent(e)}},{key:"sample",value:function(t){var e=this._getContext(t);if(void 0===e._sampling.priority){var n=this._getPriority(e._tags);this.validate(n)?e._sampling.priority=n:e._sampling.priority=this.isSampled(t)?w:m}}},{key:"update",value:function(t){var e={};for(var n in t){var r=t[n],o=new s(r);e[n]=o}e["service:,env:"]=e["service:,env:"]||new s(w),this._samplers=e}},{key:"validate",value:function(t){switch(t){case b:case S:case m:case w:return!0;default:return!1}}},{key:"_getContext",value:function(t){return"function"==typeof t.context?t.context():t}},{key:"_getPriority",value:function(t){if(t.hasOwnProperty(_)&&!1!==t[_])return S;if(t.hasOwnProperty(g)&&!1!==t[g])return b;var e=parseInt(t[d],10);return 1===e||2===e?S:0===e||-1===e?b:void 0}},{key:"_isSampledByRule",value:function(t,e){return t._tags[p]=e.sampleRate,e.sampler.isSampled(t)}},{key:"_isSampledByRateLimit",value:function(t){var e=this._limiter.isAllowed();return t._tags[h]=this._limiter.effectiveRate(),e}},{key:"_isSampledByAgent",value:function(t){var e="service:".concat(t._tags[v],",env:").concat(this._env),n=this._samplers[e]||this._samplers["service:,env:"];return t._tags[y]=n.rate(),n.isSampled(t)}},{key:"_normalizeRules",value:function(t,e){return t.concat({sampleRate:e}).map((function(t){return o(o({},t),{},{sampleRate:parseFloat(t.sampleRate)})})).filter((function(t){return!isNaN(t.sampleRate)})).map((function(t){return o(o({},t),{},{sampler:new s(t.sampleRate)})}))}},{key:"_findRule",value:function(t){for(var e=0,n=this._rules.length;e<n;e++)if(this._matchRule(t,this._rules[e]))return this._rules[e]}},{key:"_matchRule",value:function(t,e){var n=t._name,r=t._tags["service.name"];return!(e.name instanceof RegExp&&!e.name.test(n)||e.name&&e.name!==n||e.service instanceof RegExp&&!e.service.test(r)||e.service&&e.service!==r)}}])&&u(e.prototype,n),r&&u(e,r),t}();t.exports=x},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(221),i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._rateLimit=parseInt(e),this._limiter=new o.RateLimiter(this._rateLimit,"second"),this._tokensRequested=0,this._prevWindowRate=null}var e,n,i;return e=t,(n=[{key:"isAllowed",value:function(){var t=this._limiter.curIntervalStart,e=this._isAllowed();return t!==this._limiter.curIntervalStart&&(this._prevWindowRate=this._currentWindowRate(),this._tokensRequested=0),this._tokensRequested++,e}},{key:"effectiveRate",value:function(){var t=this._currentWindowRate();return null===this._prevWindowRate?t:(t+this._prevWindowRate)/2}},{key:"_isAllowed",value:function(){return this._rateLimit<0||0!==this._rateLimit&&this._limiter.tryRemoveTokens(1)}},{key:"_currentWindowRate",value:function(){return this._rateLimit<0?1:0===this._rateLimit?0:0===this._tokensRequested?1:this._limiter.tokensThisInterval/this._tokensRequested}}])&&r(e.prototype,n),i&&r(e,i),t}();t.exports=i},function(t,e,n){e.RateLimiter=n(222),e.TokenBucket=n(109)},function(t,e,n){var r=n(109),o=n(223),i=function(t,e,n){this.tokenBucket=new r(t,t,e,null),this.tokenBucket.content=t,this.curIntervalStart=o(),this.tokensThisInterval=0,this.fireImmediately=n};i.prototype={tokenBucket:null,curIntervalStart:0,tokensThisInterval:0,fireImmediately:!1,removeTokens:function(t,e){if(t>this.tokenBucket.bucketSize)return process.nextTick(e.bind(null,"Requested tokens "+t+" exceeds maximum tokens per interval "+this.tokenBucket.bucketSize,null)),!1;var n=this,r=o();if((r<this.curIntervalStart||r-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=r,this.tokensThisInterval=0),t>this.tokenBucket.tokensPerInterval-this.tokensThisInterval){if(this.fireImmediately)process.nextTick(e.bind(null,null,-1));else{var i=Math.ceil(this.curIntervalStart+this.tokenBucket.interval-r);setTimeout((function(){n.tokenBucket.removeTokens(t,a)}),i)}return!1}return this.tokenBucket.removeTokens(t,a);function a(r,o){if(r)return e(r,null);n.tokensThisInterval+=t,e(null,o)}},tryRemoveTokens:function(t){if(t>this.tokenBucket.bucketSize)return!1;var e=o();if((e<this.curIntervalStart||e-this.curIntervalStart>=this.tokenBucket.interval)&&(this.curIntervalStart=e,this.tokensThisInterval=0),t>this.tokenBucket.tokensPerInterval-this.tokensThisInterval)return!1;var n=this.tokenBucket.tryRemoveTokens(t);return n&&(this.tokensThisInterval+=t),n},getTokensRemaining:function(){return this.tokenBucket.drip(),this.tokenBucket.content}},t.exports=i},function(t,e){t.exports=function(){if("undefined"!=typeof process&&process.hrtime){var t=process.hrtime(),e=t[0],n=t[1];return 1e3*e+Math.floor(n/1e6)}return(new Date).getTime()}},function(t,e){var n="object"==typeof global&&global&&global.Object===Object&&global,r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();function i(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}var u=Object.prototype,c=u.hasOwnProperty,s=u.toString,f=o.Symbol,l=u.propertyIsEnumerable,p=f?f.isConcatSpreadable:void 0,h=Math.max;function y(t){return d(t)||function(t){return function(t){return _(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?s.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}(t)}(t)&&c.call(t,"callee")&&(!l.call(t,"callee")||"[object Arguments]"==s.call(t))}(t)||!!(p&&t&&t[p])}function v(t){if("string"==typeof t||function(t){return"symbol"==typeof t||_(t)&&"[object Symbol]"==s.call(t)}(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}var d=Array.isArray;function _(t){return!!t&&"object"==typeof t}var g,b,m=(g=function(t,e){return null==t?{}:function(t,e){return function(t,e,n){for(var r=-1,o=e.length,i={};++r<o;){var a=e[r],u=t[a];n(u,a)&&(i[a]=u)}return i}(t=Object(t),e,(function(e,n){return n in t}))}(t,function(t,e){for(var n=-1,r=t?t.length:0,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}(function t(e,n,r,o,i){var u=-1,c=e.length;for(r||(r=y),i||(i=[]);++u<c;){var s=e[u];n>0&&r(s)?n>1?t(s,n-1,r,o,i):a(i,s):o||(i[i.length]=s)}return i}(e,1),v))},b=h(void 0===b?g.length-1:b,0),function(){for(var t=arguments,e=-1,n=h(t.length-b,0),r=Array(n);++e<n;)r[e]=t[b+e];e=-1;for(var o=Array(b+1);++e<b;)o[e]=t[e];return o[b]=r,i(g,this,o)});t.exports=m},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(n,t);var e=a(n);function n(){return o(this,n),e.apply(this,arguments)}return n}(n(110));t.exports=s},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,o;return e=t,(n=[{key:"inject",value:function(t,e){}},{key:"extract",value:function(t){return null}}])&&r(e.prototype,n),o&&r(e,o),t}();t.exports=o},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=n(21),i=n(26),a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,a;return e=t,(n=[{key:"inject",value:function(t,e){if(e){var n=t._tags;e.dd={trace_id:t.toTraceId(),span_id:t.toSpanId()},n.service&&(e.dd.service=n.service),n.version&&(e.dd.version=n.version),n.env&&(e.dd.env=n.env)}}},{key:"extract",value:function(t){return t&&t.dd&&t.dd.trace_id&&t.dd.span_id?new i({traceId:o(t.dd.trace_id,10),spanId:o(t.dd.span_id,10)}):null}}])&&r(e.prototype,n),a&&r(e,a),t}();t.exports=a},function(t,e,n){"use strict";var r=n(41),o=n(12),i=n(229),a=n(111),u=n(107),c=n(21),s="".concat(c().toString()).concat(c().toString());t.exports=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(e=e||{}).service||o.env("DD_SERVICE")||o.env("DD_SERVICE_NAME")||o.service()||"node",c=i(e.version,o.env("DD_VERSION"),o.appVersion()),f=i(e.enabled,o.env("DD_TRACE_ENABLED"),!0),l=i(e.debug,o.env("DD_TRACE_DEBUG"),!1),p=i(e.logInjection,o.env("DD_LOGS_INJECTION"),!1),h=i(e.env,o.env("DD_ENV")),y=i(e.url,o.env("DD_TRACE_AGENT_URL"),o.env("DD_TRACE_URL"),null),v=i(e.site,o.env("DD_SITE"),"datadoghq.com"),d=i(e.hostname,o.env("DD_AGENT_HOST"),o.env("DD_TRACE_AGENT_HOSTNAME")),_=i(e.port,o.env("DD_TRACE_AGENT_PORT"),8126),g=i(Math.min(Math.max(e.sampleRate,0),1),1),b=i(parseInt(e.flushInterval,10),2e3),m=i(e.plugins,!0),w=e.dogstatsd||{},S=i(e.runtimeMetrics,o.env("DD_RUNTIME_METRICS_ENABLED"),!1),x=i(e.analytics,o.env("DD_TRACE_ANALYTICS_ENABLED"),o.env("DD_TRACE_ANALYTICS")),E=i(e.reportHostname,o.env("DD_TRACE_REPORT_HOSTNAME"),!1),O=i(e.scope,o.env("DD_TRACE_SCOPE")),T=i(e.clientToken,o.env("DD_CLIENT_TOKEN")),k={};u.add(k,o.env("DD_TAGS")),u.add(k,o.env("DD_TRACE_TAGS")),u.add(k,o.env("DD_TRACE_GLOBAL_TAGS")),u.add(k,e.tags),u.add(k,{service:n,env:h,version:c});var A=e.experimental&&e.experimental.sampler||{};Object.assign(A,{sampleRate:i(A.sampleRate,o.env("DD_TRACE_SAMPLE_RATE")),rateLimit:i(A.rateLimit,o.env("DD_TRACE_RATE_LIMIT"))}),this.enabled="true"===String(f),this.debug="true"===String(l),this.logInjection="true"===String(p),this.env=h,this.url=y&&new r(y),this.site=v,this.hostname=d||this.url&&this.url.hostname,this.port=String(_||this.url&&this.url.port),this.flushInterval=b,this.sampleRate=g,this.logger=e.logger,this.plugins=!!m,this.service=n,this.version=c,this.analytics="true"===String(x),this.tags=k,this.dogstatsd={port:String(i(w.port,o.env("DD_DOGSTATSD_PORT"),8125))},this.runtimeMetrics="true"===String(S),this.trackAsyncScope=!1!==e.trackAsyncScope,this.experimental={b3:!(!e.experimental||!e.experimental.b3),runtimeId:!(!e.experimental||!e.experimental.runtimeId),exporter:e.experimental&&e.experimental.exporter,peers:e.experimental&&e.experimental.distributedTracingOriginWhitelist||[],sampler:A},this.reportHostname="true"===String(E),this.scope="false"===o.env("DD_CONTEXT_PROPAGATION")?a.NOOP:O,this.clientToken=T,this.logLevel=i(e.logLevel,o.env("DD_TRACE_LOG_LEVEL"),"debug"),this.experimental.runtimeId&&u.add(k,{"runtime-id":s})}},function(t,e,n){"use strict";function r(t){return null!=t&&t==t}t.exports=function(){for(var t,e=arguments.length,n=0;n<e;n++)if(r(t=arguments[n]))return t;return t}},function(t,e,n){"use strict";function r(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t))){var e=0,n=function(){};return{s:n,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,a=!0,u=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=n(231),u=n(17),c=n(12);a({logger:function(){}});var s=c.plugins,f=c.env("DD_TRACE_DISABLED_PLUGINS"),l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._tracer=e,this._loader=new c.Loader(this),this._enabled=!1,this._names=new Set,this._plugins=new Map,this._instrumented=new Map,this._disabledPlugins=new Set(f&&f.split(",").map((function(t){return t.trim()})))}var e,n,o;return e=t,(n=[{key:"use",value:function(t,e){"boolean"==typeof e&&(e={enabled:e}),e=e||{};try{this._set(s[t.toLowerCase()],{name:t,config:e})}catch(e){u.debug('Could not find a plugin named "'.concat(t,'".'))}this._enabled&&this._loader.reload(this._plugins)}},{key:"enable",value:function(t){var e=this;t=t||{},this._enabled=!0,!1!==t.plugins&&Object.keys(s).filter((function(t){return!e._plugins.has(s[t])})).forEach((function(t){e._set(s[t],{name:t,config:{}})})),this._loader.reload(this._plugins)}},{key:"disable",value:function(){var t,e=r(this._instrumented.keys());try{for(e.s();!(t=e.n()).done;){var n=t.value;this.unpatch(n)}}catch(t){e.e(t)}finally{e.f()}this._plugins.clear(),this._enabled=!1,this._loader.reload(this._plugins)}},{key:"wrap",value:function(t,e,n){t=[].concat(t),e=[].concat(e),t.forEach((function(t){e.forEach((function(e){if("function"!=typeof t[e])throw new Error("Expected object ".concat(t," to contain method ").concat(e,"."));Object.defineProperty(t[e],"_datadog_patched",{value:!0,configurable:!0})}))})),a.massWrap.call(this,t,e,n)}},{key:"unwrap",value:function(t,e,n){t=[].concat(t),e=[].concat(e),a.massUnwrap.call(this,t,e,n),t.forEach((function(t){e.forEach((function(e){t[e]&&delete t[e]._datadog_patched}))}))}},{key:"wrapExport",value:function(t,e){if("function"!=typeof t)return t;for(var n=function(){return t._datadog_wrapper.apply(this,arguments)},r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];n[i]=t[i]}return t._datadog_wrapper=e,n}},{key:"unwrapExport",value:function(t){return t&&t._datadog_wrapper&&(t._datadog_wrapper=t),t}},{key:"load",value:function(t,e){var n=this;if(this._enabled){var r=[].concat(t),o=!1!==e.config.enabled;c.metrics().boolean("datadog.tracer.node.plugin.enabled.by.name",o,"name:".concat(e.name));try{r.forEach((function(t){n._loader.load(t,e.config)}))}catch(n){u.error(n),this.unload(t),u.debug("Error while trying to patch ".concat(e.name,". The plugin has been disabled.")),c.metrics().increment("datadog.tracer.node.plugin.errors",!0)}}}},{key:"unload",value:function(t){var e=this;[].concat(t).forEach((function(t){e.unpatch(t),e._instrumented.delete(t)}));var n=this._plugins.get(t);n&&(this._plugins.delete(t),c.metrics().boolean("datadog.tracer.node.plugin.enabled.by.name",!1,"name:".concat(n.name)))}},{key:"patch",value:function(t,e,n){var r=this._instrumented.get(t);if(r||this._instrumented.set(t,r=new Set),!r.has(e))return r.add(e),t.patch.call(this,e,this._tracer._tracer,n)}},{key:"unpatch",value:function(t){var e=this,n=this._instrumented.get(t);n&&n.forEach((function(n){try{t.unpatch.call(e,n,e._tracer)}catch(t){u.error(t)}}))}},{key:"_set",value:function(t,e){this._disabledPlugins.has(e.name)?u.debug('Plugin "'.concat(e.name,'" was disabled via configuration option.')):(this._plugins.set(t,e),this.load(t,e))}}])&&i(e.prototype,n),o&&i(e,o),t}();t.exports=l},function(t,e,n){"use strict";function r(t){return"function"==typeof t}var o=console.error.bind(console);function i(t,e,n){var r=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:!0,enumerable:r,writable:!0,value:n})}function a(t){t&&t.logger&&(r(t.logger)?o=t.logger:o("new logger isn't a function, not replacing"))}function u(t,e,n){if(t&&t[e]){if(!n)return o("no wrapper function"),void o((new Error).stack);if(r(t[e])&&r(n)){var a=t[e],u=n(a,e);return i(u,"__original",a),i(u,"__unwrap",(function(){t[e]===u&&i(t,e,a)})),i(u,"__wrapped",!0),i(t,e,u),u}o("original object and wrapper must be functions")}else o("no original function "+e+" to wrap")}function c(t,e){return t&&t[e]?t[e].__unwrap?t[e].__unwrap():void o("no original to unwrap to -- has "+e+" already been unwrapped?"):(o("no function to unwrap."),void o((new Error).stack))}a.wrap=u,a.massWrap=function(t,e,n){if(!t)return o("must provide one or more modules to patch"),void o((new Error).stack);Array.isArray(t)||(t=[t]),e&&Array.isArray(e)?t.forEach((function(t){e.forEach((function(e){u(t,e,n)}))})):o("must provide one or more functions to wrap on modules")},a.unwrap=c,a.massUnwrap=function(t,e){if(!t)return o("must provide one or more modules to patch"),void o((new Error).stack);Array.isArray(t)||(t=[t]),e&&Array.isArray(e)?t.forEach((function(t){e.forEach((function(e){c(t,e)}))})):o("must provide one or more functions to unwrap on modules")},t.exports=a},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(42).ANALYTICS,i=!1;t.exports={enable:function(){i=!0},disable:function(){i=!1},sample:function(t,e,n){"object"===r(e)?this.sample(t,e[t.context()._name],n):void 0!==e?t.setTag(o,e):n&&i&&t.setTag(o,1)}}}]);
//# sourceMappingURL=dd-trace.min.js.map